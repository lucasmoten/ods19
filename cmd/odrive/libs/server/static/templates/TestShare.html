<h1>Global Parameters</h1>
<pre>
{
  "Host": "https://192.168.99.100:8080",
  "Url": "/services/object-drive/1.0",
  "Root": "$GOPATH/src/decipher.com/autopilot/cache",
  "Log": {}
}
</pre>
<h1>TestShare</h1>
<h2>Upload Request
</h2>
Uploading a file for User 0.
<pre>
POST /services/object-drive/1.0/objects HTTP/1.1
Host: 192.168.99.100:8080
User-Agent: Go-http-client/1.1
Content-Length: 2554
Content-Type: multipart/form-data; boundary=5237f2ba47b3da53a21c55b21be1cc77de86b5f6e4a3247abf82d553c07b
Accept-Encoding: gzip

--5237f2ba47b3da53a21c55b21be1cc77de86b5f6e4a3247abf82d553c07b
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "",
  "description": "",
  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U\",\"banner\":\"UNCLASSIFIED\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}"
}
--5237f2ba47b3da53a21c55b21be1cc77de86b5f6e4a3247abf82d553c07b
Content-Disposition: form-data; name="filestream"; filename="gettysburgaddress.txt"
Content-Type: application/octet-stream

Four score and seven years ago our fathers brought forth on this continent, a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal.

Now we are engaged in a great civil war, testing whether that nation, or any nation so conceived and so dedicated, can long endure. We are met on a great battle-field of that war. We have come to dedicate a portion of that field, as a final resting place for those who here gave their lives that that nation might live. It is altogether fitting and proper that we should do this.

But, in a larger sense, we can not dedicate -- we can not consecrate -- we can not hallow -- this ground. The brave men, living and dead, who struggled here, have consecrated it, far above our poor power to add or detract. The world will little note, nor long remember what we say here, but it can never forget what they did here. It is for us the living, rather, to be dedicated here to the unfinished work which they who fought here have thus far so nobly advanced. It is rather for us to be here dedicated to the great task remaining before us -- that from these honored dead we take increased devotion to that cause for which they gave the last full measure of devotion -- that we here highly resolve that these dead shall not have died in vain -- that this nation, under God, shall have a new birth of freedom -- and that government of the people, by the people, for the people, shall not perish from the earth.

Abraham Lincoln
November 19, 1863

--5237f2ba47b3da53a21c55b21be1cc77de86b5f6e4a3247abf82d553c07b--

</pre>
json of the uploaded object is returned, as soon as EC2 has it. use it to perform further actions on the file.

<pre>
HTTP/1.1 200 OK
Content-Length: 1368
Cache-Control: no-cache
Connection: keep-alive
Content-Type: application/json
Date: Tue, 10 May 2016 17:54:24 GMT
Expires: Tue, 10 May 2016 17:54:23 GMT
Server: nginx/1.8.1

{
  "id": "11e616d83b1bfce2bd110242ac110002",
  "createdDate": "2016-05-10T17:54:24Z",
  "createdBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "modifiedDate": "2016-05-10T17:54:24Z",
  "modifiedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "changeCount": 0,
  "changeToken": "1297e4f91839b8cbac329854ac6c22e6",
  "ownedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "typeId": "11e616d8383fdbb6bd110242ac110002",
  "typeName": "File",
  "name": "gettysburgaddress.txt",
  "description": "",
  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U\",\"banner\":\"UNCLASSIFIED\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
  "contentType": "text",
  "contentSize": 1511,
  "contentHash": "3e9407273e9c18215d89a573757a3afbc32a2463bafda8bc0c73d09788900cb2",
  "isPDFAvailable": false,
  "isUSPersonsData": false,
  "isFOIAExempt": false
}
</pre>
<h2>Upload Request
</h2>
Uploading a file for User 1.
<pre>
POST /services/object-drive/1.0/objects HTTP/1.1
Host: 192.168.99.100:8080
User-Agent: Go-http-client/1.1
Content-Length: 1611
Content-Type: multipart/form-data; boundary=24c64fc14c4fe02c86e2b3d35dbaee573eed4d03a905dd359634cfba089c
Accept-Encoding: gzip

--24c64fc14c4fe02c86e2b3d35dbaee573eed4d03a905dd359634cfba089c
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "",
  "description": "",
  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U\",\"banner\":\"UNCLASSIFIED\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}"
}
--24c64fc14c4fe02c86e2b3d35dbaee573eed4d03a905dd359634cfba089c
Content-Disposition: form-data; name="filestream"; filename="gilgamesh.txt"
Content-Type: application/octet-stream

The ale-wife said to him, to Gilgamesh:
'Gilgamesh, whither rovest thou?
The life thou pursuest thou shalt not find.
When the gods created mankind,
Death for mankind they set aside,
Life in their own hands retaining.
Thou, Gilgamesh, let full be thy belly,
Make thou merry by day and by night.
Of each day make thou a feast of rejoicing,
Day and night dance thou and play!
Let thy garments be sparkling fresh,
Thy head be washed; bathe thou in water.
Pay heed to the little one that holds on to thy hand,
Let thy spouse delight in thy bosom!
For this is the task of mankind!'

--24c64fc14c4fe02c86e2b3d35dbaee573eed4d03a905dd359634cfba089c--

</pre>
json of the uploaded object is returned, as soon as EC2 has it. use it to perform further actions on the file.

<pre>
HTTP/1.1 200 OK
Content-Length: 1359
Cache-Control: no-cache
Connection: keep-alive
Content-Type: application/json
Date: Tue, 10 May 2016 17:54:25 GMT
Expires: Tue, 10 May 2016 17:54:24 GMT
Server: nginx/1.8.1

{
  "id": "11e616d83ba211e5bd110242ac110002",
  "createdDate": "2016-05-10T17:54:25Z",
  "createdBy": "CN=test tester01,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "modifiedDate": "2016-05-10T17:54:25Z",
  "modifiedBy": "CN=test tester01,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "changeCount": 0,
  "changeToken": "f9faaa38e274c82bb85ae65cc97e4301",
  "ownedBy": "CN=test tester01,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "typeId": "11e616d8383fdbb6bd110242ac110002",
  "typeName": "File",
  "name": "gilgamesh.txt",
  "description": "",
  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U\",\"banner\":\"UNCLASSIFIED\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
  "contentType": "text",
  "contentSize": 576,
  "contentHash": "43e97dd3be56df46c1454334f2c6de9a8f3548fb9f280710b9c2566abeacd08c",
  "isPDFAvailable": false,
  "isUSPersonsData": false,
  "isFOIAExempt": false
}
</pre>
<h2>User Listing Request
</h2>
Get the users..
<pre>
GET /services/object-drive/1.0/users HTTP/1.1
Host: 192.168.99.100:8080
User-Agent: Go-http-client/1.1
Accept-Encoding: gzip


</pre>
All users who have visited the site gave us their identity

<pre>
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Cache-Control: no-cache
Connection: keep-alive
Content-Type: application/json
Date: Tue, 10 May 2016 17:54:25 GMT
Expires: Tue, 10 May 2016 17:54:24 GMT
Server: nginx/1.8.1

880
[
  {
    "distinguishedName": "CN=[DAOTEST]test tester01, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester01",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester02, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester02",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester03, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester03",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester04, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester04",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester05, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester05",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester06, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester06",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester07, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester07",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester08, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester08",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester09, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester09",
    "email": ""
  },
  {
    "distinguishedName": "CN=[DAOTEST]test tester10, O=U.S. Government, OU=chimera, OU=DAE, OU=People, C=US",
    "displayName": "User:[DAOTEST]test tester10",
    "email": ""
  },
  {
    "distinguishedName": "CN=test tester01,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
    "displayName": "User:test tester01",
    "email": ""
  },
  {
    "distinguishedName": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
    "displayName": "User:test tester10",
    "email": ""
  }
]
0


</pre>
<h2>Share Request
</h2>
Alice shares file to Bob.
<pre>
POST /services/object-drive/1.0/shared/11e616d83b1bfce2bd110242ac110002 HTTP/1.1
Host: 192.168.99.100:8080
User-Agent: Go-http-client/1.1
Content-Length: 206
Content-Type: application/json
Accept-Encoding: gzip

{
  "grantee": "CN=test tester01,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "create": true,
  "read": true,
  "update": true,
  "delete": true,
  "share": false,
  "propagateToChildren": false
}
</pre>
Share

<pre>
HTTP/1.1 200 OK
Content-Length: 647
Cache-Control: no-cache
Connection: keep-alive
Content-Type: application/json
Date: Tue, 10 May 2016 17:54:25 GMT
Expires: Tue, 10 May 2016 17:54:24 GMT
Server: nginx/1.8.1

{
  "id": "11e616d83badf1fdbd110242ac110002",
  "createdDate": "2016-05-10T17:54:25Z",
  "createdBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "modifiedDate": "2016-05-10T17:54:25Z",
  "modifiedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "changeCount": 0,
  "changeToken": "784ce68821999d3185d2f2a3675e1cd0",
  "objectId": "11e616d83b1bfce2bd110242ac110002",
  "grantee": "CN=test tester01,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
  "allowCreate": true,
  "allowRead": true,
  "allowUpdate": true,
  "allowDelete": true,
  "allowShare": false,
  "explicitShare": true
}
</pre>
<h2>ListShares Request
</h2>
Look at the shares that Bob has.
<pre>
GET /services/object-drive/1.0/shares HTTP/1.1
Host: 192.168.99.100:8080
User-Agent: Go-http-client/1.1
Content-Type: application/json
Accept-Encoding: gzip


</pre>
ListShares

<pre>
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Cache-Control: no-cache
Connection: keep-alive
Content-Type: application/json
Date: Tue, 10 May 2016 17:54:25 GMT
Expires: Tue, 10 May 2016 17:54:24 GMT
Server: nginx/1.8.1

b89
{
  "totalRows": 2,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 2,
  "objects": [
    {
      "id": "11e616d83b1bfce2bd110242ac110002",
      "createdDate": "2016-05-10T17:54:24Z",
      "createdBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
      "modifiedDate": "2016-05-10T17:54:24Z",
      "modifiedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
      "changeCount": 0,
      "changeToken": "1297e4f91839b8cbac329854ac6c22e6",
      "ownedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
      "typeId": "11e616d8383fdbb6bd110242ac110002",
      "typeName": "File",
      "name": "gettysburgaddress.txt",
      "description": "",
      "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U\",\"banner\":\"UNCLASSIFIED\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
      "contentType": "text",
      "contentSize": 1511,
      "contentHash": "3e9407273e9c18215d89a573757a3afbc32a2463bafda8bc0c73d09788900cb2",
      "isPDFAvailable": false,
      "isUSPersonsData": false,
      "isFOIAExempt": false
    },
    {
      "id": "11e616d83aed9130bd110242ac110002",
      "createdDate": "2016-05-10T17:54:23Z",
      "createdBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
      "modifiedDate": "2016-05-10T17:54:23Z",
      "modifiedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
      "changeCount": 0,
      "changeToken": "d666910bc33c7f760c5e940bacd7feb7",
      "ownedBy": "CN=test tester10,OU=People,OU=DAE,OU=chimera,O=U.S. Government,C=US",
      "typeId": "11e616d838f87debbd110242ac110002",
      "typeName": "Folder",
      "name": "Test Folder 1 1462902860",
      "description": "",
      "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U\",\"banner\":\"UNCLASSIFIED\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "isPDFAvailable": false,
      "isUSPersonsData": false,
      "isFOIAExempt": false
    }
  ]
}
0


</pre>
<h2>GetObject Request
</h2>
1 downloads the file.
<pre>
GET /services/object-drive/1.0/objects/11e616d83b1bfce2bd110242ac110002/stream HTTP/1.1
Host: 192.168.99.100:8080
User-Agent: Go-http-client/1.1
Accept-Encoding: gzip


</pre>
Got the raw file.

<pre>
HTTP/1.1 200 OK
Content-Length: 1511
Accept-Ranges: none
Cache-Control: no-cache
Connection: keep-alive
Content-Disposition: inline; filename=gettysburgaddress.txt
Content-Type: text
Date: Tue, 10 May 2016 17:54:25 GMT
Expires: Tue, 10 May 2016 17:54:24 GMT
Server: nginx/1.8.1

Four score and seven years ago our fathers brought forth on this continent, a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal.

Now we are engaged in a great civil war, testing whether that nation, or any nation so conceived and so dedicated, can long endure. We are met on a great battle-field of that war. We have come to dedicate a portion of that field, as a final resting place for those who here gave their lives that that nation might live. It is altogether fitting and proper that we should do this.

But, in a larger sense, we can not dedicate -- we can not consecrate -- we can not hallow -- this ground. The brave men, living and dead, who struggled here, have consecrated it, far above our poor power to add or detract. The world will little note, nor long remember what we say here, but it can never forget what they did here. It is for us the living, rather, to be dedicated here to the unfinished work which they who fought here have thus far so nobly advanced. It is rather for us to be here dedicated to the great task remaining before us -- that from these honored dead we take increased devotion to that cause for which they gave the last full measure of devotion -- that we here highly resolve that these dead shall not have died in vain -- that this nation, under God, shall have a new birth of freedom -- and that government of the people, by the people, for the people, shall not perish from the earth.

Abraham Lincoln
November 19, 1863

</pre>
