<html>
<head><title>APISample</title>
<style>

    body {
        font-family: "Arial", Times, serif;
    }
    pre.request {
        background-color: black;
        color: rgb(0,255,0);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
    pre.response {
        background-color: black;
        color: rgb(64,255,64);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
	span.notshown {
		color: red;
	}

</style>
</head>
<body>
<h1>APISample</h1>

			This is a sampling of successful tests that exhibit correct cases for using the API,
			at the level of http traffic.  
		<h2>Table Of Contents</h2><ul><li><a href="#483716164">Change Owner for Object</a></li><li><a href="#2000488170">CORS Pre-flight check</a></li><li><a href="#2623193993">Create Object owned by group</a></li><li><a href="#2374969519">Share to new user that may use odrive in the future</a></li><li><a href="#2116130772">Create Object shared to new user on create with resource string format</a></li><li><a href="#981325595">Create Object having stream with explicit permissions set using new permission format</a></li><li><a href="#2569267939">Delete a folder</a></li><li><a href="#1391618934">Bulk Move Objects to a new Parent</a></li><li><a href="#1001142759">Empty (Expunge) Trash</a></li><li><a href="#1046142755">Bulk Retrieve Object Properties</a></li><li><a href="#994442692">Client Caching using ETag</a></li><li><a href="#890140790">Range Request a file</a></li><li><a href="#1738951136">Zip a Collection of Files by IDs</a></li><li><a href="#3468999796">List Root Objects for a Group</a></li><li><a href="#3497412442">Create Classified File About Grey Aliens</a></li><li><a href="#1467011862">Declassify File About Grey Aliens</a></li><li><a href="#1105457739">Show Revisions on Declassified File About Grey Aliens Who Has Clearance</a></li><li><a href="#2339528389">Show Revisions on Declassified File About Grey Aliens</a></li><li><a href="#3833738823">List Root Objects for User</a></li><li><a href="#1634256523">Move Object</a></li><li><a href="#3233016391">Undelete/Restore a file from trash</a></li><li><a href="#2490985143">Modify Object Property</a></li><li><a href="#1017150633">Update the stream of an existing object</a></li><li><a href="#3766955599">Modify Object Properties</a></li><li><a href="#959183600">Update Object With New Property</a></li><li><a href="#3834796447">Update Object Change Property Value</a></li></ul><br/><h2 id=483716164>Change Owner for Object</h2>
Transfer object ownership to a different user or group
<pre class="request">
POST /services/object-drive/1.0/objects/11e935329da51a24975d0242ac120005/owner/group/dctc/DCTC/ODrive_G1/DCTC%20ODrive_G1 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"c192b15a2af3ea5bbb1a4b195f329523"}</pre>
Ownership changed to designated resource, and moved to root
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:11:52 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: d31c8c7e
Vary: Origin

cf2
{
  "id": "11e935329da51a24975d0242ac120005",
  "createdDate": "2019-02-20T17:11:52.098883Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:11:52.499992Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "1d4ce2e6fa6a28d31ba8fd078a6b519b",
  "ownedBy": "group/dctc/dctc/odrive_g1",
  "typeId": "11e93532817fafc4975d0242ac120005",
  "typeName": "Folder",
  "name": "Test ChangeOwner to Group",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive_g1"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive_g1"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive_g1",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive_g1",
      "displayName": "dctc odrive_g1",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive_g1"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2000488170>CORS Pre-flight check</h2>
Do the request, and specify the headers to be reflected back if ok
<pre class="request">
OPTIONS /services/object-drive/1.0/objects/0123456789abcdef0123456789abcdef HTTP/1.1
Host: proxier:8080
Access-Control-Request-Headers: content-type, x-requested-with
Access-Control-Request-Method: POST
Origin: https://proxier:8080

</pre>
See the headers with values reflected back
<pre class="response">
HTTP/1.1 204 No Content
Access-Control-Allow-Credentials: true
Access-Control-Allow-Headers: content-type, x-requested-with
Access-Control-Allow-Methods: GET, PUT, DELETE, POST, HEAD, OPTIONS
Access-Control-Allow-Origin: https://proxier:8080
Access-Control-Max-Age: 600
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: text/plain; charset=utf-8
Date: Wed, 20 Feb 2019 17:11:56 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 5d614efd
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=2623193993>Create Object owned by group</h2>
add in ownedBy group
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "permissions": [
    {
      "share": {
        "projects": {
          "dctc": {
            "disp_nm": "DCTC",
            "groups": [
              "ODrive"
            ]
          }
        }
      },
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "ownedBy": "group/dctc/DCTC/ODrive/DCTC ODrive"
}</pre>
object added, but immediately owned by the group
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:12:01 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: ba39775e
Vary: Origin

8fe
{
  "id": "11e93532a369c842975d0242ac120005",
  "createdDate": "2019-02-20T17:12:01.776493Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:12:01.776493Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "fe9164b9a0b051edde3a11ffe09e25aa",
  "ownedBy": "group/dctc/dctc/odrive",
  "typeId": "11e9353281c52b07975d0242ac120005",
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": null
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "share": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2374969519>Share to new user that may use odrive in the future</h2>
Share file owned by tester 2 from tester 10 to tester 11
<pre class="request">
POST /services/object-drive/1.0/shared/11e93532a4e4264a975d0242ac120005 HTTP/1.1
Host: proxier:8080

{
  "share": {
    "users": [
      "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
    ]
  },
  "allowCreate": false,
  "allowRead": true,
  "allowUpdate": false,
  "allowDelete": false,
  "allowShare": false
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:12:04 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 848666f3
Vary: Origin

f90
{
  "id": "11e93532a4e4264a975d0242ac120005",
  "createdDate": "2019-02-20T17:12:04.25607Z",
  "createdBy": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:12:04.519077Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "b702a117d18a313245d9fd888d3aee26",
  "ownedBy": "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9353281c52b07975d0242ac120005",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser2",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": false,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester02",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": true
    },
    {
      "grantee": "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester12",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2116130772>Create Object shared to new user on create with resource string format</h2>
Create file using resource string format
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": "{\"banner\":\"UNCLASSIFIED//FOUO\",\"classif\":\"U\",\"dissem_countries\":[\"USA\"],\"dissem_ctrls\":[\"FOUO\"],\"portion\":\"U//FOUO\",\"share\":{\"users\":[\"cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us\"]},\"version\":\"2.1.0\"}",
  "permission": {
    "create": {},
    "read": {
      "allow": [
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:12:04 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: e47212b2
Vary: Origin

ceb
{
  "id": "11e93532a536fafd975d0242ac120005",
  "createdDate": "2019-02-20T17:12:04.79893Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:12:04.79893Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "f8cfcd53a96d9ab76db70ff6f83f5fe6",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9353281c52b07975d0242ac120005",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester13",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=981325595>Create Object having stream with explicit permissions set using new permission format</h2>

			This object is created with full CRUDS given to the owner, but explicit CRUD given to
			members of the DCTC ODrive group.
			
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=68890ec743cfbb458a6d076c7e7b7e74d41c59c3b275d6268da0f68bd232

--68890ec743cfbb458a6d076c7e7b7e74d41c59c3b275d6268da0f68bd232
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--68890ec743cfbb458a6d076c7e7b7e74d41c59c3b275d6268da0f68bd232
Content-Disposition: form-data; name="filestream"; filename="initialTestData2.txt"
Content-Type: application/octet-stream

Initial test data 2
--68890ec743cfbb458a6d076c7e7b7e74d41c59c3b275d6268da0f68bd232--
</pre>

			The object should have have permissions put in according to what we explicitly set,
			rather than solely based on the ACM contents.
			
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:14:11 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: c3d4c4a7
Vary: Origin

cf4
{
  "id": "11e93532f09278d1975d0242ac120005",
  "createdDate": "2019-02-20T17:14:11.227712Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:14:11.227712Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "8c7cad92424e1679a3eaa9e9ddc5c48f",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9353281c52b07975d0242ac120005",
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 19,
  "contentHash": "364dc4db80afec6a2b8e2394bc66c8435d397c94bd28e74b9331724f4a293850",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2569267939>Delete a folder</h2>
Use a reference to the object to put it into the trash.
<pre class="request">
POST /services/object-drive/1.0/objects/11e935333c83b29d975d0242ac120005/trash HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"581869814a1012b0872d3e05b5d062e4"}</pre>

				The trashed object is still in the system, 
				so that it may be removed from trash if necessary.
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 247
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:16:18 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 58b591df
Vary: Origin

{
  "id": "11e935333c83b29d975d0242ac120005",
  "deletedDate": "2019-02-20T17:16:18.670039Z",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": true,
    "allowShare": false
  }
}</pre>
<h2 id=1391618934>Bulk Move Objects to a new Parent</h2>
A list of object ids with change token and new parent
<pre class="request">
POST /services/object-drive/1.0/objects/move HTTP/1.1
Host: proxier:8080

[{"id":"11e935334a0c079b975d0242ac120005","changeToken":"0c4ce7569a2c440d62bfc1f3fd7bc1bb","parentId":"11e9353349f26ee2975d0242ac120005"},{"id":"11e935334a25d741975d0242ac120005","changeToken":"e8bf4eb5c8c322da9c261cf7e65a6e18","parentId":"11e9353349f26ee2975d0242ac120005"},{"id":"11e935334a41e0ae975d0242ac120005","changeToken":"329e4e4738c3c9ca9d0f0b7a6ea57341","parentId":"11e9353349f26ee2975d0242ac120005"},{"id":"11e935334a5a851a975d0242ac120005","changeToken":"73688d5e456f683c96b042077eb80885","parentId":"11e9353349f26ee2975d0242ac120005"},{"id":"11e935334a748f66975d0242ac120005","changeToken":"c693a01db7c7d2651c091481630f712e","parentId":"11e9353349f26ee2975d0242ac120005"}]</pre>
Any errors that happened
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 387
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:16:42 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 63e1e3a2
Status: Ãˆ
Vary: Origin

[
  {
    "objectId": "11e935334a0c079b975d0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e935334a25d741975d0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e935334a41e0ae975d0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e935334a5a851a975d0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e935334a748f66975d0242ac120005",
    "code": 200
  }
]</pre>
<h2 id=1001142759>Empty (Expunge) Trash</h2>
Simple clean trash request (expunge deleted objects)
<pre class="request">
DELETE /services/object-drive/1.0/trashed HTTP/1.1
Host: proxier:8080

</pre>
The response may be partial, so we keep doing until trash is gone if we need to
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 26
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:16:48 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: cb44c888
Status: 200
Vary: Origin

{
  "expunged_count": 12
}</pre>
<h2 id=1046142755>Bulk Retrieve Object Properties</h2>
Get a set of (existing!) objects in bulk
<pre class="request">
POST /services/object-drive/1.0/objects/properties HTTP/1.1
Host: proxier:8080

{
  "objectIds": [
    "11e935334ea2c52b975d0242ac120005",
    "11e935334ebcb166975d0242ac120005",
    "11e935334ed591af975d0242ac120005",
    "11e935334eef9962975d0242ac120005",
    "11e935334f079e2a975d0242ac120005",
    "11e935334f21f97e975d0242ac120005"
  ]
}</pre>
Response to getting objects in bulk
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:16:50 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 1ffb1313
Status: 200
Vary: Origin

541a
{
  "totalRows": 6,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 6,
  "pageRows": 0,
  "objects": [
    {
      "id": "11e935334ea2c52b975d0242ac120005",
      "createdDate": "2019-02-20T17:16:49.040335Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:16:49.040335Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "2a3e553067ad44fba7df45bcab9c4e50",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532817fafc4975d0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1550683008",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e935334ebcb166975d0242ac120005",
      "createdDate": "2019-02-20T17:16:49.210187Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:16:49.210187Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "8449609cd7b7bd5c5e76f59b958a8bb9",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532817fafc4975d0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1550683009",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e935334ed591af975d0242ac120005",
      "createdDate": "2019-02-20T17:16:49.373277Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:16:49.373277Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "1279718b181d1b6d141b8baf4e199440",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532817fafc4975d0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1550683009",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e935334eef9962975d0242ac120005",
      "createdDate": "2019-02-20T17:16:49.543855Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:16:49.543855Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "5405032c6116a8f465f9a384198af088",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532817fafc4975d0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1550683009",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e935334f079e2a975d0242ac120005",
      "createdDate": "2019-02-20T17:16:49.701276Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:16:49.701276Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "1908f72ba2501f4424c84e81f5a336f8",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532817fafc4975d0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1550683009",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e935334f21f97e975d0242ac120005",
      "createdDate": "2019-02-20T17:16:49.874009Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:16:49.874009Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "b4459933a592bcec35f530fde1497f99",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532817fafc4975d0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1550683009",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=994442692>Client Caching using ETag</h2>
Use the ETag header sent back as If-none-match to get a 304 indicating that the content has not changed
<pre class="request">
GET /services/object-drive/1.0/objects/11e93533536dd2f2975d0242ac120005/stream HTTP/1.1
Host: proxier:8080
If-None-Match: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"

</pre>

				We get back the code rather than wastefully sending back the whole file when it has not changed.  
				304 means Not-Modified.  
				Modern web browsers do this internally to avoid re-fetching unchanged content, 
				especially with images and javascript.
				When we get an object, we get an ETag back regardless of whether it was a 200 or 304.
				
<pre class="response">
HTTP/1.1 304 Not Modified
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="ae031c16f94c46caad556cc259d996c6"
Content-Encrypted-At-Rest: TRUE
Date: Wed, 20 Feb 2019 17:16:57 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 473507dc
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=890140790>Range Request a file</h2>

			Get a byte range out of a file, rather than the whole file.
			This is a critical feature for using media such as video over http.
			This allows for multi-gigabyte video files to be handled very easily by
			both the web server and the browser while using a small amount of memory.
			
<pre class="request">
GET /services/object-drive/1.0/objects/11e9353353b8a3a4975d0242ac120005/stream HTTP/1.1
Host: proxier:8080
Range: bytes=5-34

</pre>

			The response that comes back is truncated within the requested byte range.
			Note that the ETag applies to the whole file, and not the parts.
			
<pre class="response">
HTTP/1.1 206 Partial Content
Content-Length: 30
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="9d4be6e954d0402ca9127bdc5e185995"
Content-Encrypted-At-Rest: TRUE
Content-Range: bytes 5-34/64
Content-Type: text/plain
Date: Wed, 20 Feb 2019 17:16:57 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: e0b3a370
Vary: Origin

fghijklmnopqrstuvwxyzABCDEFGHI</pre>
<h2 id=1738951136>Zip a Collection of Files by IDs</h2>
Select a set of individual files (not directories) and send their identifiers in the request
<pre class="request">
POST /services/object-drive/1.0/zip HTTP/1.1
Host: proxier:8080

{
"objectIds": [
"11e935335c872d57975d0242ac120005",
"11e935335cb24b6d975d0242ac120005",
"11e935335cdc8696975d0242ac120005",
"11e935335d06ccaa975d0242ac120005",
"11e935335d2d5c4a975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d7f6fc6975d0242ac120005",
"11e935335dab4ee4975d0242ac120005",
"11e935335dd2f543975d0242ac120005",
"11e935335dfc746a975d0242ac120005",
"11e935335e237a35975d0242ac120005",
"11e935335e75564f975d0242ac120005",
"11e935335eaafd00975d0242ac120005",
"11e935335ee1e1c9975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005",
"11e935335d567e7f975d0242ac120005"
],
"fileName": "drive.zip",
"disposition": "inline"
}</pre>
We get back a binary zip file as a response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Disposition: inline; filename=drive.zip
Content-Encrypted-At-Rest: TRUE
Content-Type: application/zip
Date: Wed, 20 Feb 2019 17:17:18 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: d671b793
Vary: Origin

a5c
PK    &ŠTN             	 mapdata1.txtUT ˜‹m\lat=5,long=6PK‡\u      PK    &ŠTN             	 mapdata2.txtUT ˜‹m\lat=5,long=6PK‡\u      PK    &ŠTN             	 mapdata5.txtUT ™‹m\lat=5,long=6PK‡\u      PK    'ŠTN             	 mapdata9.txtUT š‹m\lat=5,long=6PK‡\u      PK    'ŠTN             	 data.txtUT ›‹m\lat=5,long=6PK‡\u      PK    'ŠTN             	 mapdata0.txtUT ›‹m\lat=5,long=6PK‡\u      PK    &ŠTN             	 mapdata6.txtUT ™‹m\lat=5,long=6PK‡\u      PK    (ŠTN             	 classification_manifest(1).txtUT œ‹m\lat=5,long=6PK‡\u      PK    &ŠTN             	 mapdata3.txtUT ™‹m\lat=5,long=6PK‡\u      PK    &ŠTN             	 mapdata4.txtUT ™‹m\lat=5,long=6PK‡\u      PK    'ŠTN             	 mapdata7.txtUT š‹m\lat=5,long=6PK‡\u      PK    'ŠTN             	 mapdata8.txtUT š‹m\lat=5,long=6PK‡\u      PK    'ŠTN             	 mapdata0(1).txtUT ›‹m\lat=5,long=6PK‡\u      PK    &ŠTN             	 mapdata0(2).txtUT ˜‹m\lat=5,long=6PK‡\u      PK    )ŠTN             	 classification_manifest.txtUT ž‹m\UNCLASSIFIED//FOUO

(U//FOUO) mapdata1.txt
(U//FOUO) mapdata2.txt
(U//FOUO) mapdata5.txt
(U//FOUO) mapdata9.txt
(U//FOUO) data.txt
(U//FOUO) mapdata0.txt
(U//FOUO) mapdata6.txt
(U//FOUO) classification_manifest(1).txt
(U//FOUO) mapdata3.txt
(U//FOUO) mapdata4.txt
(U//FOUO) mapdata7.txt
(U//FOUO) mapdata8.txt
(U//FOUO) mapdata0(1).txt
(U//FOUO) mapdata0(2).txt

UNCLASSIFIED//FOUO
PKú­·I~  ~  PK    &ŠTN‡\u       	         €    mapdata1.txtUT ˜‹m\PK    &ŠTN‡\u       	         €O   mapdata2.txtUT ˜‹m\PK    &ŠTN‡\u       	         €ž   mapdata5.txtUT ™‹m\PK    'ŠTN‡\u       	         €í   mapdata9.txtUT š‹m\PK    'ŠTN‡\u       	         €<  data.txtUT ›‹m\PK    'ŠTN‡\u       	         €‡  mapdata0.txtUT ›‹m\PK    &ŠTN‡\u       	         €Ö  mapdata6.txtUT ™‹m\PK    (ŠTN‡\u       	         €%  classification_manifest(1).txtUT œ‹m\PK    &ŠTN‡\u       	         €†  mapdata3.txtUT ™‹m\PK    &ŠTN‡\u       	         €Õ  mapdata4.txtUT ™‹m\PK    'ŠTN‡\u       	         €$  mapdata7.txtUT š‹m\PK    'ŠTN‡\u       	         €s  mapdata8.txtUT š‹m\PK    'ŠTN‡\u       	         €Â  mapdata0(1).txtUT ›‹m\PK    &ŠTN‡\u       	         €  mapdata0(2).txtUT ˜‹m\PK    )ŠTNú­·I~  ~   	         €f  classification_manifest.txtUT ž‹m\PK        6    
0

<span class="notshown">....</span>
</pre>
<h2 id=3468999796>List Root Objects for a Group</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/groupobjects/cntesttester10oupeopleoudaeouchimeraou_s_governmentcus?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=3497412442>Create Classified File About Grey Aliens</h2>
Generate a file with high classification
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=bbbd6baab8fb80494d063490626ceba91f5e8135882aeb83ecd4414603c3

--bbbd6baab8fb80494d063490626ceba91f5e8135882aeb83ecd4414603c3
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "b00d4795ac1c4813a6ca5596b761d51e",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--bbbd6baab8fb80494d063490626ceba91f5e8135882aeb83ecd4414603c3
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

Area 51 Gray Alien Xenu says: It's time!
--bbbd6baab8fb80494d063490626ceba91f5e8135882aeb83ecd4414603c3--
</pre>
The response shows the created file with populated metadata. Take note of classification and changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:17:20 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: d7da2d5b
Vary: Origin

ca3
{
  "id": "11e93533611cd958975d0242ac120005",
  "createdDate": "2019-02-20T17:17:20.03941Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:17:20.03941Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "88f8fd9c201e26ea439c7e8b8d4b2723",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532807f690f975d0242ac120005",
  "typeName": "File",
  "name": "b00d4795ac1c4813a6ca5596b761d51e",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1467011862>Declassify File About Grey Aliens</h2>
Lower the classification request
<pre class="request">
POST /services/object-drive/1.0/objects/11e93533611cd958975d0242ac120005/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=ee9a03fd92c35300129fcc0c1a0b0994452f0b2db8421f6001ab90b800af

--ee9a03fd92c35300129fcc0c1a0b0994452f0b2db8421f6001ab90b800af
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "id": "11e93533611cd958975d0242ac120005",
  "changeToken": "88f8fd9c201e26ea439c7e8b8d4b2723",
  "typeName": "File",
  "name": "8c8fc2a86fbf44c1be3550cc2317e09f",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "recursiveShare": false
}
--ee9a03fd92c35300129fcc0c1a0b0994452f0b2db8421f6001ab90b800af
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

**** ** **** ***** **** says: It's time!
--ee9a03fd92c35300129fcc0c1a0b0994452f0b2db8421f6001ab90b800af--
</pre>
The response shows the updated file at a different classfication. Changecount and other internal core metadata have changed
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:17:20 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 9e1fc573
Vary: Origin

c6d
{
  "id": "11e93533611cd958975d0242ac120005",
  "createdDate": "2019-02-20T17:17:20.03941Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:17:20.354983Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "54fd395c76736a9ae66c1450c91ab404",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532807f690f975d0242ac120005",
  "typeName": "File",
  "name": "8c8fc2a86fbf44c1be3550cc2317e09f",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1105457739>Show Revisions on Declassified File About Grey Aliens Who Has Clearance</h2>
Ask for revisions as a user who can see all the versions
<pre class="request">
GET /services/object-drive/1.0/revisions/11e93533611cd958975d0242ac120005 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
All versions returned, note the changecounts
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:17:21 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: c4807d6a
Vary: Origin

1d7b
{
  "totalRows": 2,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 2,
  "objects": [
    {
      "id": "11e93533611cd958975d0242ac120005",
      "createdDate": "2019-02-20T17:17:20.03941Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:17:20.354983Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "54fd395c76736a9ae66c1450c91ab404",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532807f690f975d0242ac120005",
      "typeName": "File",
      "name": "8c8fc2a86fbf44c1be3550cc2317e09f",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e93533611cd958975d0242ac120005",
      "createdDate": "2019-02-20T17:17:20.03941Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:17:20.03941Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "88f8fd9c201e26ea439c7e8b8d4b2723",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532807f690f975d0242ac120005",
      "typeName": "File",
      "name": "b00d4795ac1c4813a6ca5596b761d51e",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "TOP SECRET//SI/TK",
        "classif": "TS",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          ""
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "ts"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [
          "si",
          "tk"
        ],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "TS//SI/TK",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [
          "si",
          "tk"
        ],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=2339528389>Show Revisions on Declassified File About Grey Aliens</h2>
Ask for revisions as a user who can only see the unclassified version
<pre class="request">
GET /services/object-drive/1.0/revisions/11e93533611cd958975d0242ac120005 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
Only the latest version is returned, note the changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:17:21 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: f18c419b
Vary: Origin

ed2
{
  "totalRows": 1,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 1,
  "objects": [
    {
      "id": "11e93533611cd958975d0242ac120005",
      "createdDate": "2019-02-20T17:17:20.03941Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:17:20.354983Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "54fd395c76736a9ae66c1450c91ab404",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e93532807f690f975d0242ac120005",
      "typeName": "File",
      "name": "8c8fc2a86fbf44c1be3550cc2317e09f",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": false,
        "allowRead": true,
        "allowUpdate": false,
        "allowDelete": false,
        "allowShare": false
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=3833738823>List Root Objects for User</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/objects?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=1634256523>Move Object</h2>
Request that an object be moved to a new location
<pre class="request">
POST /services/object-drive/1.0/objects/11e935336bd24969975d0242ac120005/move/11e935336bb98c9a975d0242ac120005 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"29d8613bbfbc0c422f33b595f86ac2ca"}</pre>
The object in its new location
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:17:38 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 9faa33e6
Vary: Origin

cc4
{
  "id": "11e935336bd24969975d0242ac120005",
  "createdDate": "2019-02-20T17:17:38.005683Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:17:38.086602Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "3634dfa8335dcc85626d0fc8984f5f04",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532817fafc4975d0242ac120005",
  "typeName": "Folder",
  "name": "Test Folder 2 1550683057",
  "description": "",
  "parentId": "11e935336bb98c9a975d0242ac120005",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "breadcrumbs": [
    {
      "id": "11e935336bb98c9a975d0242ac120005",
      "parentId": "",
      "name": "Test Folder 1 1550683057"
    }
  ],
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3233016391>Undelete/Restore a file from trash</h2>
We can use the id of a file to rescue it from the trash.
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=9ef969d77851e72dd66e0fcfb8b3c81573e0cbedb56a117614c56cd6b172

--9ef969d77851e72dd66e0fcfb8b3c81573e0cbedb56a117614c56cd6b172
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "2fcb74ab546b4de59aa3660d3396bc69",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--9ef969d77851e72dd66e0fcfb8b3c81573e0cbedb56a117614c56cd6b172
Content-Disposition: form-data; name="filestream"; filename="testfilename.txt"
Content-Type: application/octet-stream

Deletes are hard. Undeletes are harder!
--9ef969d77851e72dd66e0fcfb8b3c81573e0cbedb56a117614c56cd6b172--
</pre>
This is the restored object.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:18:15 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: d6c8c8aa
Vary: Origin

c6e
{
  "id": "11e9353382575561975d0242ac120005",
  "createdDate": "2019-02-20T17:18:15.787491Z",
  "createdBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:18:15.787491Z",
  "modifiedBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "01716b4bf1523a5698791bde62c792b7",
  "ownedBy": "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532807f690f975d0242ac120005",
  "typeName": "File",
  "name": "2fcb74ab546b4de59aa3660d3396bc69",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 39,
  "contentHash": "7f58e1795418675dff9baa6eb47a27d9e4057b33ab096946b4645224f185aada",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester06oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester06",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2490985143>Modify Object Property</h2>

				Update a property.  It is required to pass in changeToken as proof that we have seen the latest version.
				
<pre class="request">
POST /services/object-drive/1.0/objects/11e935338bc885f5975d0242ac120005/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=7dad34bbfe69dafa8de11e82566e1f120c251fef9e3a41f69c38adef30d2

--7dad34bbfe69dafa8de11e82566e1f120c251fef9e3a41f69c38adef30d2
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json


{
	  "id": "11e935338bc885f5975d0242ac120005",
      "description": "describeit",
	  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[\"FOUO\"],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U//FOUO\",\"banner\":\"UNCLASSIFIED//FOUO\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
	  "changeToken" : "2b70f2440e189218b3010bcceac3ab98",
	  "properties" : [
          {"name":"dogname", "value":"arf", "classificationPM":"U"}
      ]
}

--7dad34bbfe69dafa8de11e82566e1f120c251fef9e3a41f69c38adef30d2
Content-Disposition: form-data; name="filestream"; filename="initialTestData3.txt"
Content-Type: application/octet-stream

Initial test data 3 asdf
--7dad34bbfe69dafa8de11e82566e1f120c251fef9e3a41f69c38adef30d2--
</pre>

				We get back an object with updated properties,
				with changeToken and changeCount being important changed values.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:18:31 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: a5cf1ab1
Vary: Origin

e85
{
  "id": "11e935338bc885f5975d0242ac120005",
  "createdDate": "2019-02-20T17:18:31.628735Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:18:31.966128Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "fe5d890683c4ac993c176bc3205b61bb",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532807f690f975d0242ac120005",
  "typeName": "File",
  "name": "bd268ac8f3d34c29bf3d1697aa9550f7",
  "description": "describeit",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 24,
  "contentHash": "16b4c8d8d6fe37569ccb3c4c10db70dbd1e553fb10972a04d054dec3adcb2446",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e935338bfc2c4f975d0242ac120005",
      "createdDate": "2019-02-20T17:18:31.96738Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:18:31.96738Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "cd0b106ab063caec1a119cb440e3b035",
      "name": "dogname",
      "value": "arf",
      "classificationPM": "U"
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1017150633>Update the stream of an existing object</h2>
<p>
				A POST request into the server requires a json part followed by a multi-part body.
				The json part content-type must be application/json, and the body part is specified
				by the caller, unless the caller is ok with the server making a guess based on
				the file extension specified in the name part of the json part.
				The identifier in the URI should have come back from a prior create request.
				It is critical to use a multipart/form-data mime type with a boundary, and to
				send the json first and call it ObjectMetadata.  The next part must be the bytes for
				the file.  This part must come second because it could be very large.
				</p>
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=1f8b56aa8165a92a304d7f29e2f41aaf44e93e1b445019075459bc5c6ff2

--1f8b56aa8165a92a304d7f29e2f41aaf44e93e1b445019075459bc5c6ff2
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "08b5b260e9ef4aa49d08b976467fe570",
  "description": "",
  "acm": {
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_clearance": [
      "u"
    ],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--1f8b56aa8165a92a304d7f29e2f41aaf44e93e1b445019075459bc5c6ff2
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

e8d57fb997cd442bbd8e66fd88579528
--1f8b56aa8165a92a304d7f29e2f41aaf44e93e1b445019075459bc5c6ff2--
</pre>
We get back an object with updated json changeToken and version
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:18:32 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 559c5c49
Vary: Origin

b91
{
  "id": "11e935338c25a06b975d0242ac120005",
  "createdDate": "2019-02-20T17:18:32.238955Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:18:32.238955Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "8a2e576d6acb9136485a2b1b442a88ea",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532807f690f975d0242ac120005",
  "typeName": "File",
  "name": "08b5b260e9ef4aa49d08b976467fe570",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "macs": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 32,
  "contentHash": "dae0e8912be1b0af461de821250dbee84d187e1654e6c64aa8131da7c99c9ab9",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3766955599>Modify Object Properties</h2>
Ask for updated properties
<pre class="request">
POST /services/object-drive/1.0/objects/11e935338d3e3334975d0242ac120005/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json


{
    "id": "11e935338d3e3334975d0242ac120005",
    "acm": {
        "f_missions": [],
        "fgi_open": [],
        "rel_to": [],
        "dissem_countries": [
            "USA"
        ],
        "sci_ctrls": [],
        "f_clearance": [
            "u"
        ],
        "owner_prod": [],
        "f_regions": [],
        "f_share": [
            "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
            "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
        ],
        "portion": "U",
        "disp_only": "",
        "f_sci_ctrls": [],
        "disponly_to": [
            ""
        ],
        "banner": "UNCLASSIFIED",
        "non_ic": [],
        "f_accms": [],
        "f_sar_id": [],
        "f_oc_org": [],
        "classif": "U",
        "atom_energy": [],
        "dissem_ctrls": [],
        "sar_id": [],
        "version": "2.1.0",
        "fgi_protect": [],
        "f_macs": [],
        "f_atom_energy": [],
        "share": {
            "users": [
                "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ],
            "projects": {}
        }
    },
    "permission": {
        "create": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "read": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "update": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "delete": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "share": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        }
    },
    "changeToken": "6dfb9d6d31eed0a2c5ea6863e32242f6"
}
</pre>
Get response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:18:34 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: d1212781
Vary: Origin

e8f
{
  "id": "11e935338d3e3334975d0242ac120005",
  "createdDate": "2019-02-20T17:18:34.077718Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:18:34.442692Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "2351d30bdd742b4d488c7542e138533e",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532817fafc4975d0242ac120005",
  "typeName": "Folder",
  "name": "Test Folder for Update 1550683113",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
    ],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "share": {
      "projects": null,
      "users": [
        "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus",
      "userDistinguishedName": "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
      "displayName": "ling chen",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=959183600>Update Object With New Property</h2>
While updating the metadata for an object, include a dynamic property to be set
<pre class="request">
POST /services/object-drive/1.0/objects/11e9353392e7bc2d975d0242ac120005/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e9353392e7bc2d975d0242ac120005","createdDate":"2019-02-20T17:18:43.577364Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-02-20T17:18:43.577364Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":0,"changeToken":"4b7dc755714ef48f9cefe778a9d35e87","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e93532817fafc4975d0242ac120005","typeName":"Folder","name":"TestUpdateObjectProperty 1550683123","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"","createdDate":"0001-01-01T00:00:00Z","createdBy":"","modifiedDate":"0001-01-01T00:00:00Z","modifiedBy":"","changeCount":0,"changeToken":"","name":"custom-property","value":"property value 1","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object includes property
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:18:43 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: 80558ff9
Vary: Origin

e2d
{
  "id": "11e9353392e7bc2d975d0242ac120005",
  "createdDate": "2019-02-20T17:18:43.577364Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:18:43.835081Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "d28879495313a3bed77481b4da06c4b9",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532817fafc4975d0242ac120005",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1550683123",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e93533930f4b59975d0242ac120005",
      "createdDate": "2019-02-20T17:18:43.836727Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:18:43.836727Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "b0f87d6df9882197b43084512da63874",
      "name": "custom-property",
      "value": "property value 1",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3834796447>Update Object Change Property Value</h2>
While updating the metadata for an object, change value of already existing dynamic property
<pre class="request">
POST /services/object-drive/1.0/objects/11e9353392e7bc2d975d0242ac120005/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e9353392e7bc2d975d0242ac120005","createdDate":"2019-02-20T17:18:43.577364Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-02-20T17:18:43.835081Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":1,"changeToken":"d28879495313a3bed77481b4da06c4b9","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e93532817fafc4975d0242ac120005","typeName":"Folder","name":"TestUpdateObjectProperty 1550683123","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"11e93533930f4b59975d0242ac120005","createdDate":"2019-02-20T17:18:43.836727Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-02-20T17:18:43.836727Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","changeCount":0,"changeToken":"b0f87d6df9882197b43084512da63874","name":"custom-property","value":"new property value","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object shows property with new value
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Wed, 20 Feb 2019 17:18:44 GMT
Odrive-Server: v1.0.19b4 build SNAPSHOT (c5102d87)
Server: nginx/1.15.8
Session-Id: d7a5f303
Vary: Origin

e2f
{
  "id": "11e9353392e7bc2d975d0242ac120005",
  "createdDate": "2019-02-20T17:18:43.577364Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-02-20T17:18:44.111319Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 2,
  "changeToken": "e9d716b2a6b7220622e7b20b10a361ad",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e93532817fafc4975d0242ac120005",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1550683123",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e935339339a305975d0242ac120005",
      "createdDate": "2019-02-20T17:18:44.114243Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-02-20T17:18:44.114243Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "69592259ec8c068d4d0b1a3109d976af",
      "name": "custom-property",
      "value": "new property value",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
</body></html>
