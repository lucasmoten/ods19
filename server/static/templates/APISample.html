<html>
<head><title>APISample</title>
<style>

    body {
        font-family: "Arial", Times, serif;
    }
    pre.request {
        background-color: black;
        color: rgb(0,255,0);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
    pre.response {
        background-color: black;
        color: rgb(64,255,64);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
	span.notshown {
		color: red;
	}

</style>
</head>
<body>
<h1>APISample</h1>

			This is a sampling of successful tests that exhibit correct cases for using the API,
			at the level of http traffic.  
		<h2>Table Of Contents</h2><ul><li><a href="#483716164">Change Owner for Object</a></li><li><a href="#2000488170">CORS Pre-flight check</a></li><li><a href="#2623193993">Create Object owned by group</a></li><li><a href="#2374969519">Share to new user that may use odrive in the future</a></li><li><a href="#2116130772">Create Object shared to new user on create with resource string format</a></li><li><a href="#981325595">Create Object having stream with explicit permissions set using new permission format</a></li><li><a href="#2569267939">Delete a folder</a></li><li><a href="#1391618934">Bulk Move Objects to a new Parent</a></li><li><a href="#1001142759">Empty (Expunge) Trash</a></li><li><a href="#1046142755">Bulk Retrieve Object Properties</a></li><li><a href="#2254291071">Client Caching with Etags</a></li><li><a href="#890140790">Range Request a file</a></li><li><a href="#1738951136">Zip a Collection of Files by IDs</a></li><li><a href="#3468999796">List Root Objects for a Group</a></li><li><a href="#3497412442">Create Classified File About Grey Aliens</a></li><li><a href="#1467011862">Declassify File About Grey Aliens</a></li><li><a href="#1105457739">Show Revisions on Declassified File About Grey Aliens Who Has Clearance</a></li><li><a href="#2339528389">Show Revisions on Declassified File About Grey Aliens</a></li><li><a href="#3833738823">List Root Objects for User</a></li><li><a href="#1634256523">Move Object</a></li><li><a href="#3233016391">Undelete/Restore a file from trash</a></li><li><a href="#2490985143">Modify Object Property</a></li><li><a href="#1017150633">Update the stream of an existing object</a></li><li><a href="#3766955599">Modify Object Properties</a></li><li><a href="#959183600">Update Object With New Property</a></li><li><a href="#3834796447">Update Object Change Property Value</a></li></ul><br/><h2 id=483716164>Change Owner for Object</h2>
Transfer object ownership to a different user or group
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259abf1c7d0abff90242ac120004/owner/group/dctc/DCTC/ODrive_G1/DCTC%20ODrive_G1 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"dcd172f3f0683147a5b65fb12ba017a5"}</pre>
Ownership changed to designated resource, and moved to root
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:56:57 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: c5ed6b97
Vary: Origin

cf1
{
  "id": "11e9259abf1c7d0abff90242ac120004",
  "createdDate": "2019-01-31T20:56:57.30159Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:56:57.555303Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "a5212c107dc9bca0e70d9f57dfde8946",
  "ownedBy": "group/dctc/dctc/odrive_g1",
  "typeId": "11e9259ab46ef0c7bff90242ac120004",
  "typeName": "Folder",
  "name": "Test ChangeOwner to Group",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive_g1"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive_g1"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive_g1",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive_g1",
      "displayName": "dctc odrive_g1",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive_g1"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2000488170>CORS Pre-flight check</h2>
Do the request, and specify the headers to be reflected back if ok
<pre class="request">
OPTIONS /services/object-drive/1.0/objects/0123456789abcdef0123456789abcdef HTTP/1.1
Host: proxier:8080
Access-Control-Request-Headers: content-type, x-requested-with
Access-Control-Request-Method: POST
Origin: https://proxier:8080

</pre>
See the headers with values reflected back
<pre class="response">
HTTP/1.1 204 No Content
Access-Control-Allow-Credentials: true
Access-Control-Allow-Headers: content-type, x-requested-with
Access-Control-Allow-Methods: GET, PUT, DELETE, POST, HEAD, OPTIONS
Access-Control-Allow-Origin: https://proxier:8080
Access-Control-Max-Age: 600
Connection: keep-alive
Content-Type: text/plain; charset=utf-8
Date: Thu, 31 Jan 2019 20:56:58 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: ab2c1221
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=2623193993>Create Object owned by group</h2>
add in ownedBy group
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "permissions": [
    {
      "share": {
        "projects": {
          "dctc": {
            "disp_nm": "DCTC",
            "groups": [
              "ODrive"
            ]
          }
        }
      },
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "ownedBy": "group/dctc/DCTC/ODrive/DCTC ODrive"
}</pre>
object added, but immediately owned by the group
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:57:00 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 5ed6842b
Vary: Origin

8fe
{
  "id": "11e9259ac0d9c905bff90242ac120004",
  "createdDate": "2019-01-31T20:57:00.219856Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:57:00.219856Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "96515b3f2255be25c7c196895f236618",
  "ownedBy": "group/dctc/dctc/odrive",
  "typeId": "11e9259ab4ac4989bff90242ac120004",
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": null
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "share": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2374969519>Share to new user that may use odrive in the future</h2>
Share file owned by tester 2 from tester 10 to tester 11
<pre class="request">
POST /services/object-drive/1.0/shared/11e9259ac1375e19bff90242ac120004 HTTP/1.1
Host: proxier:8080

{
  "share": {
    "users": [
      "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
    ]
  },
  "allowCreate": false,
  "allowRead": true,
  "allowUpdate": false,
  "allowDelete": false,
  "allowShare": false
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:57:00 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 309632da
Vary: Origin

f91
{
  "id": "11e9259ac1375e19bff90242ac120004",
  "createdDate": "2019-01-31T20:57:00.833181Z",
  "createdBy": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:57:00.964824Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "a2a5d37a7542a0d4f2aa5c64b7614730",
  "ownedBy": "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab4ac4989bff90242ac120004",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser2",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": false,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester02",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": true
    },
    {
      "grantee": "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester12",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2116130772>Create Object shared to new user on create with resource string format</h2>
Create file using resource string format
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": "{\"banner\":\"UNCLASSIFIED//FOUO\",\"classif\":\"U\",\"dissem_countries\":[\"USA\"],\"dissem_ctrls\":[\"FOUO\"],\"portion\":\"U//FOUO\",\"share\":{\"users\":[\"cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us\"]},\"version\":\"2.1.0\"}",
  "permission": {
    "create": {},
    "read": {
      "allow": [
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:57:01 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: e01afd55
Vary: Origin

ced
{
  "id": "11e9259ac15f787abff90242ac120004",
  "createdDate": "2019-01-31T20:57:01.095943Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:57:01.095943Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "0eaa933188e23ed39f78925250dc8d71",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab4ac4989bff90242ac120004",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester13",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=981325595>Create Object having stream with explicit permissions set using new permission format</h2>

			This object is created with full CRUDS given to the owner, but explicit CRUD given to
			members of the DCTC ODrive group.
			
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=84c75a5c14d178b773f210b4ada7d753f5f066f55f393414159b94991eef

--84c75a5c14d178b773f210b4ada7d753f5f066f55f393414159b94991eef
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--84c75a5c14d178b773f210b4ada7d753f5f066f55f393414159b94991eef
Content-Disposition: form-data; name="filestream"; filename="initialTestData2.txt"
Content-Type: application/octet-stream

Initial test data 2
--84c75a5c14d178b773f210b4ada7d753f5f066f55f393414159b94991eef--
</pre>

			The object should have have permissions put in according to what we explicitly set,
			rather than solely based on the ACM contents.
			
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:57:16 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: c2e0c636
Vary: Origin

cf4
{
  "id": "11e9259aca63d310bff90242ac120004",
  "createdDate": "2019-01-31T20:57:16.224026Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:57:16.224026Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "002c477fd41956c8d245e3d00b220145",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab4ac4989bff90242ac120004",
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 19,
  "contentHash": "364dc4db80afec6a2b8e2394bc66c8435d397c94bd28e74b9331724f4a293850",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2569267939>Delete a folder</h2>
Use a reference to the object to put it into the trash.
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259afc4c196dbff90242ac120004/trash HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"e44eed57a578b28b7941f43bab70dbbe"}</pre>

				The trashed object is still in the system, 
				so that it may be removed from trash if necessary.
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 247
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:58:39 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 32072635
Vary: Origin

{
  "ID": "11e9259afc4c196dbff90242ac120004",
  "deletedDate": "2019-01-31T20:58:39.985718Z",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": true,
    "allowShare": false
  }
}</pre>
<h2 id=1391618934>Bulk Move Objects to a new Parent</h2>
A list of object ids with change token and new parent
<pre class="request">
POST /services/object-drive/1.0/objects/move HTTP/1.1
Host: proxier:8080

[{"id":"11e9259b07aecfd7bff90242ac120004","changeToken":"f415222e9600f1ced1a3bea6644963e8","parentId":"11e9259b07a910c3bff90242ac120004"},{"id":"11e9259b07b5771ebff90242ac120004","changeToken":"03035f6776cd90f8b9d4f68f229b5368","parentId":"11e9259b07a910c3bff90242ac120004"},{"id":"11e9259b07bc38c7bff90242ac120004","changeToken":"f9600ad9e10a58f29b52acda754b77cd","parentId":"11e9259b07a910c3bff90242ac120004"},{"id":"11e9259b07c2af9ebff90242ac120004","changeToken":"4e12e86b3da4ccb69f14e1ac42fb1c97","parentId":"11e9259b07a910c3bff90242ac120004"},{"id":"11e9259b07c956e9bff90242ac120004","changeToken":"4981cc2236769ffa87c5d084503efdfb","parentId":"11e9259b07a910c3bff90242ac120004"}]</pre>
Any errors that happened
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 387
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:58:59 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 3ae7629e
Status: Ãˆ
Vary: Origin

[
  {
    "objectId": "11e9259b07aecfd7bff90242ac120004",
    "code": 200
  },
  {
    "objectId": "11e9259b07b5771ebff90242ac120004",
    "code": 200
  },
  {
    "objectId": "11e9259b07bc38c7bff90242ac120004",
    "code": 200
  },
  {
    "objectId": "11e9259b07c2af9ebff90242ac120004",
    "code": 200
  },
  {
    "objectId": "11e9259b07c956e9bff90242ac120004",
    "code": 200
  }
]</pre>
<h2 id=1001142759>Empty (Expunge) Trash</h2>
Simple clean trash request (expunge deleted objects)
<pre class="request">
DELETE /services/object-drive/1.0/trashed HTTP/1.1
Host: proxier:8080

</pre>
The response may be partial, so we keep doing until trash is gone if we need to
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 26
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:02 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 7ff7ab4c
Status: 200
Vary: Origin

{
  "expunged_count": 12
}</pre>
<h2 id=1046142755>Bulk Retrieve Object Properties</h2>
Get a set of (existing!) objects in bulk
<pre class="request">
POST /services/object-drive/1.0/objects/properties HTTP/1.1
Host: proxier:8080

{
  "objectIds": [
    "11e9259b098195f7bff90242ac120004",
    "11e9259b098898e4bff90242ac120004",
    "11e9259b098f1e5cbff90242ac120004",
    "11e9259b0995d767bff90242ac120004",
    "11e9259b099cc7a3bff90242ac120004",
    "11e9259b09a2e50fbff90242ac120004"
  ]
}</pre>
Response to getting objects in bulk
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:02 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 5166c5b4
Status: 200
Vary: Origin

541a
{
  "totalRows": 6,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 6,
  "pageRows": 0,
  "objects": [
    {
      "id": "11e9259b098195f7bff90242ac120004",
      "createdDate": "2019-01-31T20:59:02.115495Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:02.115495Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "3a414416fe6bf41e58cf90fef24c32a4",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab46ef0c7bff90242ac120004",
      "typeName": "Folder",
      "name": "Test Folder for Update 1548968342",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9259b098898e4bff90242ac120004",
      "createdDate": "2019-01-31T20:59:02.161462Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:02.161462Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "911d6dc3ff8e7c374e16edafbdf0c849",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab46ef0c7bff90242ac120004",
      "typeName": "Folder",
      "name": "Test Folder for Update 1548968342",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9259b098f1e5cbff90242ac120004",
      "createdDate": "2019-01-31T20:59:02.204167Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:02.204167Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "5e2d5017dfc5a481d33723d1d8d2fe36",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab46ef0c7bff90242ac120004",
      "typeName": "Folder",
      "name": "Test Folder for Update 1548968342",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9259b0995d767bff90242ac120004",
      "createdDate": "2019-01-31T20:59:02.248222Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:02.248222Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "ad0a968e6d6735377f1776683d0a59e0",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab46ef0c7bff90242ac120004",
      "typeName": "Folder",
      "name": "Test Folder for Update 1548968342",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9259b099cc7a3bff90242ac120004",
      "createdDate": "2019-01-31T20:59:02.293754Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:02.293754Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "48dfc3ee072b2defab763ae5fed7231e",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab46ef0c7bff90242ac120004",
      "typeName": "Folder",
      "name": "Test Folder for Update 1548968342",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9259b09a2e50fbff90242ac120004",
      "createdDate": "2019-01-31T20:59:02.333785Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:02.333785Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "eb8935ae99729e30a1288a45677bb14e",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab46ef0c7bff90242ac120004",
      "typeName": "Folder",
      "name": "Test Folder for Update 1548968342",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=2254291071>Client Caching with Etags</h2>
Use the Etag header sent back as If-none-match to get a 304 indicating that the content has not changed
<pre class="request">
GET /services/object-drive/1.0/objects/11e9259b0ae58f50bff90242ac120004/stream HTTP/1.1
Host: proxier:8080
If-None-Match: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"

</pre>

				We get back the code rather than wastefully sending back the whole file when it has not changed.  
				304 means Not-Modified.  
				Modern web browsers do this internally to avoid re-fetching unchanged content, 
				especially with images and javascript.
				When we get an object, we get an Etag back regardless of whether it was a 200 or 304.
				
<pre class="response">
HTTP/1.1 304 Not Modified
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="7e7081abfbb2403c9b1f95860db95c27"
Date: Thu, 31 Jan 2019 20:59:04 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 467ee19f
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=890140790>Range Request a file</h2>

			Get a byte range out of a file, rather than the whole file.
			This is a critical feature for using media such as video over http.
			This allows for multi-gigabyte video files to be handled very easily by
			both the web server and the browser while using a small amount of memory.
			
<pre class="request">
GET /services/object-drive/1.0/objects/11e9259b0af5fdcebff90242ac120004/stream HTTP/1.1
Host: proxier:8080
Range: bytes=5-34

</pre>

			The response that comes back is truncated within the requested byte range.
			Note that the Etag applies to the whole file, and not the parts.
			
<pre class="response">
HTTP/1.1 206 Partial Content
Content-Length: 30
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="28a6970cd350472da571434535edf61e"
Content-Range: bytes 5-34/64
Content-Type: text/plain
Date: Thu, 31 Jan 2019 20:59:04 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 2370ebf4
Vary: Origin

fghijklmnopqrstuvwxyzABCDEFGHI</pre>
<h2 id=1738951136>Zip a Collection of Files by IDs</h2>
Select a set of individual files (not directories) and send their identifiers in the request
<pre class="request">
POST /services/object-drive/1.0/zip HTTP/1.1
Host: proxier:8080

{
"objectIds": [
"11e9259b0cfd6df3bff90242ac120004",
"11e9259b0d0663e8bff90242ac120004",
"11e9259b0d0e5427bff90242ac120004",
"11e9259b0d1768e3bff90242ac120004",
"11e9259b0d20b27abff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d30c3f0bff90242ac120004",
"11e9259b0d391b6abff90242ac120004",
"11e9259b0d4261d7bff90242ac120004",
"11e9259b0d4a3688bff90242ac120004",
"11e9259b0d53b09cbff90242ac120004",
"11e9259b0d66755bbff90242ac120004",
"11e9259b0d700281bff90242ac120004",
"11e9259b0d785402bff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004",
"11e9259b0d284c0bbff90242ac120004"
],
"fileName": "drive.zip",
"disposition": "inline"
}</pre>
We get back a binary zip file as a response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Disposition: inline; filename=drive.zip
Content-Type: application/zip
Date: Thu, 31 Jan 2019 20:59:08 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 5da55442
Vary: Origin

a5c
PK    d§?N             	 mapdata7.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata8.txtUT œaS\lat=5,long=6PK‡\u      PK    c§?N             	 mapdata0.txtUT ›aS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata1.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata6.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata9.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 data.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata3.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata4.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata5.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata0(1).txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata0(2).txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 classification_manifest(1).txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 mapdata2.txtUT œaS\lat=5,long=6PK‡\u      PK    d§?N             	 classification_manifest.txtUT œaS\UNCLASSIFIED//FOUO

(U//FOUO) mapdata7.txt
(U//FOUO) mapdata8.txt
(U//FOUO) mapdata0.txt
(U//FOUO) mapdata1.txt
(U//FOUO) mapdata6.txt
(U//FOUO) mapdata9.txt
(U//FOUO) data.txt
(U//FOUO) mapdata3.txt
(U//FOUO) mapdata4.txt
(U//FOUO) mapdata5.txt
(U//FOUO) mapdata0(1).txt
(U//FOUO) mapdata0(2).txt
(U//FOUO) classification_manifest(1).txt
(U//FOUO) mapdata2.txt

UNCLASSIFIED//FOUO
PKÒ)~  ~  PK    d§?N‡\u       	         €    mapdata7.txtUT œaS\PK    d§?N‡\u       	         €O   mapdata8.txtUT œaS\PK    c§?N‡\u       	         €ž   mapdata0.txtUT ›aS\PK    d§?N‡\u       	         €í   mapdata1.txtUT œaS\PK    d§?N‡\u       	         €<  mapdata6.txtUT œaS\PK    d§?N‡\u       	         €‹  mapdata9.txtUT œaS\PK    d§?N‡\u       	         €Ú  data.txtUT œaS\PK    d§?N‡\u       	         €%  mapdata3.txtUT œaS\PK    d§?N‡\u       	         €t  mapdata4.txtUT œaS\PK    d§?N‡\u       	         €Ã  mapdata5.txtUT œaS\PK    d§?N‡\u       	         €  mapdata0(1).txtUT œaS\PK    d§?N‡\u       	         €d  mapdata0(2).txtUT œaS\PK    d§?N‡\u       	         €¶  classification_manifest(1).txtUT œaS\PK    d§?N‡\u       	         €  mapdata2.txtUT œaS\PK    d§?NÒ)~  ~   	         €f  classification_manifest.txtUT œaS\PK        6    
0

<span class="notshown">....</span>
</pre>
<h2 id=3468999796>List Root Objects for a Group</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/groupobjects/cntesttester10oupeopleoudaeouchimeraou_s_governmentcus?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=3497412442>Create Classified File About Grey Aliens</h2>
Generate a file with high classification
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=d49c9dc54741672661dcb25d83037f40e66329f8491503e5857853bc400f

--d49c9dc54741672661dcb25d83037f40e66329f8491503e5857853bc400f
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "8f69ef1ee41849009d04c9e0d870214d",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--d49c9dc54741672661dcb25d83037f40e66329f8491503e5857853bc400f
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

Area 51 Gray Alien Xenu says: It's time!
--d49c9dc54741672661dcb25d83037f40e66329f8491503e5857853bc400f--
</pre>
The response shows the created file with populated metadata. Take note of classification and changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:09 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 760f60fd
Vary: Origin

ca5
{
  "id": "11e9259b0dfe5520bff90242ac120004",
  "createdDate": "2019-01-31T20:59:09.643933Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:09.643933Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "fbf344a9ef1432f3f7399d66d8ec8ca4",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab36685a8bff90242ac120004",
  "typeName": "File",
  "name": "8f69ef1ee41849009d04c9e0d870214d",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1467011862>Declassify File About Grey Aliens</h2>
Lower the classification request
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259b0dfe5520bff90242ac120004/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=227354d187ff2b7af1cc9aaafa73e7f7f03959cce08f983903a52d8c4c8f

--227354d187ff2b7af1cc9aaafa73e7f7f03959cce08f983903a52d8c4c8f
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "id": "11e9259b0dfe5520bff90242ac120004",
  "changeToken": "fbf344a9ef1432f3f7399d66d8ec8ca4",
  "typeName": "File",
  "name": "c84ebbfc69b643e7a45a65842fc87320",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "recursiveShare": false
}
--227354d187ff2b7af1cc9aaafa73e7f7f03959cce08f983903a52d8c4c8f
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

**** ** **** ***** **** says: It's time!
--227354d187ff2b7af1cc9aaafa73e7f7f03959cce08f983903a52d8c4c8f--
</pre>
The response shows the updated file at a different classfication. Changecount and other internal core metadata have changed
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:09 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 074bd845
Vary: Origin

c6e
{
  "id": "11e9259b0dfe5520bff90242ac120004",
  "createdDate": "2019-01-31T20:59:09.643933Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:09.760567Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "c2c0d4414b2b526d85c541ad3492e60d",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab36685a8bff90242ac120004",
  "typeName": "File",
  "name": "c84ebbfc69b643e7a45a65842fc87320",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/-everyone"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1105457739>Show Revisions on Declassified File About Grey Aliens Who Has Clearance</h2>
Ask for revisions as a user who can see all the versions
<pre class="request">
GET /services/object-drive/1.0/revisions/11e9259b0dfe5520bff90242ac120004 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
All versions returned, note the changecounts
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:09 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 86f66623
Vary: Origin

1d7e
{
  "totalRows": 2,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 2,
  "objects": [
    {
      "id": "11e9259b0dfe5520bff90242ac120004",
      "createdDate": "2019-01-31T20:59:09.643933Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:09.760567Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "c2c0d4414b2b526d85c541ad3492e60d",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab36685a8bff90242ac120004",
      "typeName": "File",
      "name": "c84ebbfc69b643e7a45a65842fc87320",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9259b0dfe5520bff90242ac120004",
      "createdDate": "2019-01-31T20:59:09.643933Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:09.643933Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "fbf344a9ef1432f3f7399d66d8ec8ca4",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab36685a8bff90242ac120004",
      "typeName": "File",
      "name": "8f69ef1ee41849009d04c9e0d870214d",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "TOP SECRET//SI/TK",
        "classif": "TS",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          ""
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "ts"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [
          "si",
          "tk"
        ],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "TS//SI/TK",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [
          "si",
          "tk"
        ],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=2339528389>Show Revisions on Declassified File About Grey Aliens</h2>
Ask for revisions as a user who can only see the unclassified version
<pre class="request">
GET /services/object-drive/1.0/revisions/11e9259b0dfe5520bff90242ac120004 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
Only the latest version is returned, note the changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:09 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 7dfb4dac
Vary: Origin

ed3
{
  "totalRows": 1,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 1,
  "objects": [
    {
      "id": "11e9259b0dfe5520bff90242ac120004",
      "createdDate": "2019-01-31T20:59:09.643933Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:09.760567Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "c2c0d4414b2b526d85c541ad3492e60d",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9259ab36685a8bff90242ac120004",
      "typeName": "File",
      "name": "c84ebbfc69b643e7a45a65842fc87320",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": false,
        "allowRead": true,
        "allowUpdate": false,
        "allowDelete": false,
        "allowShare": false
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=3833738823>List Root Objects for User</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/objects?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=1634256523>Move Object</h2>
Request that an object be moved to a new location
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259b13bf7aacbff90242ac120004/move/11e9259b13b6be8abff90242ac120004 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"df32f0c152c69276848d748cf473cf63"}</pre>
The object in its new location
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:19 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 0db67004
Vary: Origin

cc4
{
  "id": "11e9259b13bf7aacbff90242ac120004",
  "createdDate": "2019-01-31T20:59:19.298353Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:19.382314Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "f482ca049d64957b88a0ddde23dcb44e",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab46ef0c7bff90242ac120004",
  "typeName": "Folder",
  "name": "Test Folder 2 1548968359",
  "description": "",
  "parentId": "11e9259b13b6be8abff90242ac120004",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "breadcrumbs": [
    {
      "id": "11e9259b13b6be8abff90242ac120004",
      "parentId": "",
      "name": "Test Folder 1 1548968359"
    }
  ],
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3233016391>Undelete/Restore a file from trash</h2>
We can use the id of a file to rescue it from the trash.
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=14553ac02cc2031ad37a0001f09bcb33a4034ee198f5253b679eaf8e0751

--14553ac02cc2031ad37a0001f09bcb33a4034ee198f5253b679eaf8e0751
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "9c8493e727b04504ac837d8f088f34d6",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--14553ac02cc2031ad37a0001f09bcb33a4034ee198f5253b679eaf8e0751
Content-Disposition: form-data; name="filestream"; filename="testfilename.txt"
Content-Type: application/octet-stream

Deletes are hard. Undeletes are harder!
--14553ac02cc2031ad37a0001f09bcb33a4034ee198f5253b679eaf8e0751--
</pre>
This is the restored object.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:51 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 01dfb9e9
Vary: Origin

c6e
{
  "id": "11e9259b27114095bff90242ac120004",
  "createdDate": "2019-01-31T20:59:51.710993Z",
  "createdBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:51.710993Z",
  "modifiedBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "1e9a2f5e008eafdf451b9854bfa92c64",
  "ownedBy": "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab36685a8bff90242ac120004",
  "typeName": "File",
  "name": "9c8493e727b04504ac837d8f088f34d6",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 39,
  "contentHash": "7f58e1795418675dff9baa6eb47a27d9e4057b33ab096946b4645224f185aada",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester06oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester06",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2490985143>Modify Object Property</h2>

				Update a property.  It is required to pass in changeToken as proof that we have seen the latest version.
				
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259b29baa182bff90242ac120004/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=ad2c67ecf393fbe2f808b0dc68a55b4d26a9daf7be50607743a1cdec9258

--ad2c67ecf393fbe2f808b0dc68a55b4d26a9daf7be50607743a1cdec9258
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json


{
	  "id": "11e9259b29baa182bff90242ac120004",
      "description": "describeit",
	  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[\"FOUO\"],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U//FOUO\",\"banner\":\"UNCLASSIFIED//FOUO\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
	  "changeToken" : "38c01cc1955e735b15be3908d1edbf2c",
	  "properties" : [
          {"name":"dogname", "value":"arf", "classificationPM":"U"}
      ]
}

--ad2c67ecf393fbe2f808b0dc68a55b4d26a9daf7be50607743a1cdec9258
Content-Disposition: form-data; name="filestream"; filename="initialTestData3.txt"
Content-Type: application/octet-stream

Initial test data 3 asdf
--ad2c67ecf393fbe2f808b0dc68a55b4d26a9daf7be50607743a1cdec9258--
</pre>

				We get back an object with updated properties,
				with changeToken and changeCount being important changed values.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:56 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 03d4ce56
Vary: Origin

e87
{
  "id": "11e9259b29baa182bff90242ac120004",
  "createdDate": "2019-01-31T20:59:56.176456Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:56.295945Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "2aa3c26dc77959262dcd433bed10e774",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab36685a8bff90242ac120004",
  "typeName": "File",
  "name": "8f50b9af454a40f39121157cc59142e4",
  "description": "describeit",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 24,
  "contentHash": "16b4c8d8d6fe37569ccb3c4c10db70dbd1e553fb10972a04d054dec3adcb2446",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e9259b29cd0174bff90242ac120004",
      "createdDate": "2019-01-31T20:59:56.297003Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:56.297003Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "a3541e1da27e6335c9cb820246740823",
      "name": "dogname",
      "value": "arf",
      "classificationPM": "U"
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1017150633>Update the stream of an existing object</h2>
<p>
				A POST request into the server requires a json part followed by a multi-part body.
				The json part content-type must be application/json, and the body part is specified
				by the caller, unless the caller is ok with the server making a guess based on
				the file extension specified in the name part of the json part.
				The identifier in the URI should have come back from a prior create request.
				It is critical to use a multipart/form-data mime type with a boundary, and to
				send the json first and call it ObjectMetadata.  The next part must be the bytes for
				the file.  This part must come second because it could be very large.
				</p>
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=babf45a0f35bf6d65e409414109bbb36ab48b05549a4b2b943db5bd1ab4e

--babf45a0f35bf6d65e409414109bbb36ab48b05549a4b2b943db5bd1ab4e
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "ff4f5e515c8e4a5fa2e137eb8d7d5194",
  "description": "",
  "acm": {
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_clearance": [
      "u"
    ],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--babf45a0f35bf6d65e409414109bbb36ab48b05549a4b2b943db5bd1ab4e
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

549ab8062a7b4b4ca51e574d5a5e196f
--babf45a0f35bf6d65e409414109bbb36ab48b05549a4b2b943db5bd1ab4e--
</pre>
We get back an object with updated json changeToken and version
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:56 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 7f75176b
Vary: Origin

b91
{
  "id": "11e9259b29d5ed83bff90242ac120004",
  "createdDate": "2019-01-31T20:59:56.355354Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:56.355354Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "fce5b54907091d88f8333de604428b86",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab36685a8bff90242ac120004",
  "typeName": "File",
  "name": "ff4f5e515c8e4a5fa2e137eb8d7d5194",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "macs": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 32,
  "contentHash": "7c4ae8795e3cd7c3bbfb441218d2a2c3df0ff120d4a92f9562e43c77e4bcb608",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3766955599>Modify Object Properties</h2>
Ask for updated properties
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259b2a1e1c75bff90242ac120004/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json


{
    "id": "11e9259b2a1e1c75bff90242ac120004",
    "acm": {
        "f_missions": [],
        "fgi_open": [],
        "rel_to": [],
        "dissem_countries": [
            "USA"
        ],
        "sci_ctrls": [],
        "f_clearance": [
            "u"
        ],
        "owner_prod": [],
        "f_regions": [],
        "f_share": [
            "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
            "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
        ],
        "portion": "U",
        "disp_only": "",
        "f_sci_ctrls": [],
        "disponly_to": [
            ""
        ],
        "banner": "UNCLASSIFIED",
        "non_ic": [],
        "f_accms": [],
        "f_sar_id": [],
        "f_oc_org": [],
        "classif": "U",
        "atom_energy": [],
        "dissem_ctrls": [],
        "sar_id": [],
        "version": "2.1.0",
        "fgi_protect": [],
        "f_macs": [],
        "f_atom_energy": [],
        "share": {
            "users": [
                "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ],
            "projects": {}
        }
    },
    "permission": {
        "create": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "read": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "update": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "delete": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "share": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        }
    },
    "changeToken": "195d87f92e7cc2485033acc2697862ab"
}
</pre>
Get response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:56 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 466ceb4a
Vary: Origin

e8f
{
  "id": "11e9259b2a1e1c75bff90242ac120004",
  "createdDate": "2019-01-31T20:59:56.828368Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:56.896097Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "e6eee4f20943c9178a74ab664d494ddb",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab46ef0c7bff90242ac120004",
  "typeName": "Folder",
  "name": "Test Folder for Update 1548968396",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
    ],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "share": {
      "projects": null,
      "users": [
        "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus",
      "userDistinguishedName": "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
      "displayName": "ling chen",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=959183600>Update Object With New Property</h2>
While updating the metadata for an object, include a dynamic property to be set
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259b2b60657ebff90242ac120004/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e9259b2b60657ebff90242ac120004","createdDate":"2019-01-31T20:59:58.940541Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-01-31T20:59:58.940541Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":0,"changeToken":"7f8a75fb73d374a686781c4746f0e422","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e9259ab46ef0c7bff90242ac120004","typeName":"Folder","name":"TestUpdateObjectProperty 1548968398","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"","createdDate":"0001-01-01T00:00:00Z","createdBy":"","modifiedDate":"0001-01-01T00:00:00Z","modifiedBy":"","changeCount":0,"changeToken":"","name":"custom-property","value":"property value 1","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object includes property
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:59 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 8d4f9f9f
Vary: Origin

e2d
{
  "id": "11e9259b2b60657ebff90242ac120004",
  "createdDate": "2019-01-31T20:59:58.940541Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:59.002503Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "b1349085d0fc2651f06db9bbbad07a25",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab46ef0c7bff90242ac120004",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1548968398",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e9259b2b6a1286bff90242ac120004",
      "createdDate": "2019-01-31T20:59:59.004033Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:59.004033Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "17321926091d475802c21b8c7fcd4bf2",
      "name": "custom-property",
      "value": "property value 1",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3834796447>Update Object Change Property Value</h2>
While updating the metadata for an object, change value of already existing dynamic property
<pre class="request">
POST /services/object-drive/1.0/objects/11e9259b2b60657ebff90242ac120004/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e9259b2b60657ebff90242ac120004","createdDate":"2019-01-31T20:59:58.940541Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-01-31T20:59:59.002503Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":1,"changeToken":"b1349085d0fc2651f06db9bbbad07a25","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e9259ab46ef0c7bff90242ac120004","typeName":"Folder","name":"TestUpdateObjectProperty 1548968398","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"11e9259b2b6a1286bff90242ac120004","createdDate":"2019-01-31T20:59:59.004033Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-01-31T20:59:59.004033Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","changeCount":0,"changeToken":"17321926091d475802c21b8c7fcd4bf2","name":"custom-property","value":"new property value","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object shows property with new value
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Thu, 31 Jan 2019 20:59:59 GMT
Odrive-Server: 1 build 1 (1)
Server: nginx/1.15.8
Sessionid: 39b8e2f8
Vary: Origin

e2c
{
  "id": "11e9259b2b60657ebff90242ac120004",
  "createdDate": "2019-01-31T20:59:58.940541Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-01-31T20:59:59.06458Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 2,
  "changeToken": "32122ec77d46153ee379c11e5983aadd",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9259ab46ef0c7bff90242ac120004",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1548968398",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e9259b2b73e259bff90242ac120004",
      "createdDate": "2019-01-31T20:59:59.06836Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-01-31T20:59:59.06836Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "b40138bc6e77fda0bf9c47e6e5185b5e",
      "name": "custom-property",
      "value": "new property value",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
</body></html>
