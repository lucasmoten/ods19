<html>
<head><title>APISample</title>
<style>

    body {
        font-family: "Arial", Times, serif;
    }
    pre.request {
        background-color: black;
        color: rgb(0,255,0);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
    pre.response {
        background-color: black;
        color: rgb(64,255,64);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
	span.notshown {
		color: red;
	}

</style>
</head>
<body>
<h1>APISample</h1>

			This is a sampling of successful tests that exhibit correct cases for using the API,
			at the level of http traffic.  
		<h2>Table Of Contents</h2><ul><li><a href="#483716164">Change Owner for Object</a></li><li><a href="#2000488170">CORS Pre-flight check</a></li><li><a href="#2623193993">Create Object owned by group</a></li><li><a href="#2374969519">Share to new user that may use odrive in the future</a></li><li><a href="#2116130772">Create Object shared to new user on create with resource string format</a></li><li><a href="#981325595">Create Object having stream with explicit permissions set using new permission format</a></li><li><a href="#2569267939">Delete a folder</a></li><li><a href="#1391618934">Bulk Move Objects to a new Parent</a></li><li><a href="#1001142759">Empty (Expunge) Trash</a></li><li><a href="#1046142755">Bulk Retrieve Object Properties</a></li><li><a href="#994442692">Client Caching using ETag</a></li><li><a href="#890140790">Range Request a file</a></li><li><a href="#1738951136">Zip a Collection of Files by IDs</a></li><li><a href="#3468999796">List Root Objects for a Group</a></li><li><a href="#3497412442">Create Classified File About Grey Aliens</a></li><li><a href="#1467011862">Declassify File About Grey Aliens</a></li><li><a href="#1105457739">Show Revisions on Declassified File About Grey Aliens Who Has Clearance</a></li><li><a href="#2339528389">Show Revisions on Declassified File About Grey Aliens</a></li><li><a href="#3833738823">List Root Objects for User</a></li><li><a href="#1634256523">Move Object</a></li><li><a href="#3233016391">Undelete/Restore a file from trash</a></li><li><a href="#2490985143">Modify Object Property</a></li><li><a href="#1017150633">Update the stream of an existing object</a></li><li><a href="#3766955599">Modify Object Properties</a></li><li><a href="#959183600">Update Object With New Property</a></li><li><a href="#3834796447">Update Object Change Property Value</a></li></ul><br/><h2 id=483716164>Change Owner for Object</h2>
Transfer object ownership to a different user or group
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cccf432c5a8e5f0242ac120005/owner/group/dctc/DCTC/ODrive_G1/DCTC%20ODrive_G1 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"e0aa983dd48b4a856f628d2fe95cdcc4"}</pre>
Ownership changed to designated resource, and moved to root
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:18:44 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 1223fcc1
Vary: Origin

cf2
{
  "id": "11e9d5cccf432c5a8e5f0242ac120005",
  "createdDate": "2019-09-13T02:18:43.883988Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:18:44.061082Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "7819f8e6a1bf0072bc6b96f77938f834",
  "ownedBy": "group/dctc/dctc/odrive_g1",
  "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
  "typeName": "Folder",
  "name": "Test ChangeOwner to Group",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive_g1"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive_g1"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive_g1",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive_g1",
      "displayName": "dctc odrive_g1",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive_g1"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive_g1"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2000488170>CORS Pre-flight check</h2>
Do the request, and specify the headers to be reflected back if ok
<pre class="request">
OPTIONS /services/object-drive/1.0/objects/0123456789abcdef0123456789abcdef HTTP/1.1
Host: proxier:8080
Access-Control-Request-Headers: content-type, x-requested-with
Access-Control-Request-Method: POST
Origin: https://proxier:8080

</pre>
See the headers with values reflected back
<pre class="response">
HTTP/1.1 204 No Content
Access-Control-Allow-Credentials: true
Access-Control-Allow-Headers: content-type, x-requested-with
Access-Control-Allow-Methods: GET, PUT, DELETE, POST, HEAD, OPTIONS
Access-Control-Allow-Origin: https://proxier:8080
Access-Control-Max-Age: 600
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: text/plain; charset=utf-8
Date: Fri, 13 Sep 2019 02:18:45 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 00ef479b
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=2623193993>Create Object owned by group</h2>
add in ownedBy group
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "permissions": [
    {
      "share": {
        "projects": {
          "dctc": {
            "disp_nm": "DCTC",
            "groups": [
              "ODrive"
            ]
          }
        }
      },
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "ownedBy": "group/dctc/DCTC/ODrive/DCTC ODrive"
}</pre>
object added, but immediately owned by the group
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:18:46 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: e7e185ad
Vary: Origin

8fe
{
  "id": "11e9d5ccd0d71f3c8e5f0242ac120005",
  "createdDate": "2019-09-13T02:18:46.531259Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:18:46.531259Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "f35e61c01559286ea7e500f5a3b14dc0",
  "ownedBy": "group/dctc/dctc/odrive",
  "typeId": "11e9d5ccc5e28f4e8e5f0242ac120005",
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": null
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "share": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2374969519>Share to new user that may use odrive in the future</h2>
Share file owned by tester 2 from tester 10 to tester 11
<pre class="request">
POST /services/object-drive/1.0/shared/11e9d5ccd13a2ee98e5f0242ac120005 HTTP/1.1
Host: proxier:8080

{
  "share": {
    "users": [
      "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
    ]
  },
  "allowCreate": false,
  "allowRead": true,
  "allowUpdate": false,
  "allowDelete": false,
  "allowShare": false
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:18:47 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: faa2b845
Vary: Origin

f91
{
  "id": "11e9d5ccd13a2ee98e5f0242ac120005",
  "createdDate": "2019-09-13T02:18:47.180521Z",
  "createdBy": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:18:47.295723Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "342756b58ea9ae171f2c746c6bffb67d",
  "ownedBy": "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5e28f4e8e5f0242ac120005",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser2",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": false,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester02",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": true
    },
    {
      "grantee": "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester12",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2116130772>Create Object shared to new user on create with resource string format</h2>
Create file using resource string format
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": "{\"banner\":\"UNCLASSIFIED//FOUO\",\"classif\":\"U\",\"dissem_countries\":[\"USA\"],\"dissem_ctrls\":[\"FOUO\"],\"portion\":\"U//FOUO\",\"share\":{\"users\":[\"cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us\"]},\"version\":\"2.1.0\"}",
  "permission": {
    "create": {},
    "read": {
      "allow": [
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:18:47 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: b9e239d5
Vary: Origin

ced
{
  "id": "11e9d5ccd15e30b28e5f0242ac120005",
  "createdDate": "2019-09-13T02:18:47.416473Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:18:47.416473Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "16b6c05b75b8eae30fecea8d7a307220",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5e28f4e8e5f0242ac120005",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester13",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=981325595>Create Object having stream with explicit permissions set using new permission format</h2>

			This object is created with full CRUDS given to the owner, but explicit CRUD given to
			members of the DCTC ODrive group.
			
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=56dac6adc09a450ce5fda5c4da8548a8a491daf4feb0dff29909cc4ec801

--56dac6adc09a450ce5fda5c4da8548a8a491daf4feb0dff29909cc4ec801
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--56dac6adc09a450ce5fda5c4da8548a8a491daf4feb0dff29909cc4ec801
Content-Disposition: form-data; name="filestream"; filename="initialTestData2.txt"
Content-Type: application/octet-stream

Initial test data 2
--56dac6adc09a450ce5fda5c4da8548a8a491daf4feb0dff29909cc4ec801--
</pre>

			The object should have have permissions put in according to what we explicitly set,
			rather than solely based on the ACM contents.
			
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:19:01 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 6fcd7db5
Vary: Origin

cf4
{
  "id": "11e9d5ccd9e764ec8e5f0242ac120005",
  "createdDate": "2019-09-13T02:19:01.737382Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:19:01.737382Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "97a89ba50cd300c299a05d8e451c4117",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5e28f4e8e5f0242ac120005",
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 19,
  "contentHash": "364dc4db80afec6a2b8e2394bc66c8435d397c94bd28e74b9331724f4a293850",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2569267939>Delete a folder</h2>
Use a reference to the object to put it into the trash.
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd0aebc80f8e5f0242ac120005/trash HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"106920eb3f3983adfd19e1a22b9539ec"}</pre>

				The trashed object is still in the system, 
				so that it may be removed from trash if necessary.
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 247
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:24 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: fb5e14db
Vary: Origin

{
  "id": "11e9d5cd0aebc80f8e5f0242ac120005",
  "deletedDate": "2019-09-13T02:20:24.000307Z",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": true,
    "allowShare": false
  }
}</pre>
<h2 id=1391618934>Bulk Move Objects to a new Parent</h2>
A list of object ids with change token and new parent
<pre class="request">
POST /services/object-drive/1.0/objects/move HTTP/1.1
Host: proxier:8080

[{"id":"11e9d5cd144726668e5f0242ac120005","changeToken":"68de4a9ec6876564d9059349abc4435c","parentId":"11e9d5cd144117508e5f0242ac120005"},{"id":"11e9d5cd144de2f08e5f0242ac120005","changeToken":"442869fd6c89f3100d8d460a60dba43d","parentId":"11e9d5cd144117508e5f0242ac120005"},{"id":"11e9d5cd1454acf38e5f0242ac120005","changeToken":"8c4e4ef80afbeddaf36be99e9222d040","parentId":"11e9d5cd144117508e5f0242ac120005"},{"id":"11e9d5cd145b8c248e5f0242ac120005","changeToken":"f55739ba89f3eb70c6123d7dc7a2c53d","parentId":"11e9d5cd144117508e5f0242ac120005"},{"id":"11e9d5cd146249e88e5f0242ac120005","changeToken":"6d772894a401a9074fbaef0a5df991ac","parentId":"11e9d5cd144117508e5f0242ac120005"}]</pre>
Any errors that happened
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 387
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:40 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 73fb115f
Status: Ãˆ
Vary: Origin

[
  {
    "objectId": "11e9d5cd144726668e5f0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e9d5cd144de2f08e5f0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e9d5cd1454acf38e5f0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e9d5cd145b8c248e5f0242ac120005",
    "code": 200
  },
  {
    "objectId": "11e9d5cd146249e88e5f0242ac120005",
    "code": 200
  }
]</pre>
<h2 id=1001142759>Empty (Expunge) Trash</h2>
Simple clean trash request (expunge deleted objects)
<pre class="request">
DELETE /services/object-drive/1.0/trashed HTTP/1.1
Host: proxier:8080

</pre>
The response may be partial, so we keep doing until trash is gone if we need to
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 26
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:41 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: e631f625
Status: 200
Vary: Origin

{
  "expunged_count": 12
}</pre>
<h2 id=1046142755>Bulk Retrieve Object Properties</h2>
Get a set of (existing!) objects in bulk
<pre class="request">
POST /services/object-drive/1.0/objects/properties HTTP/1.1
Host: proxier:8080

{
  "objectIds": [
    "11e9d5cd156af5c28e5f0242ac120005",
    "11e9d5cd1571a1b78e5f0242ac120005",
    "11e9d5cd157741f48e5f0242ac120005",
    "11e9d5cd157d79608e5f0242ac120005",
    "11e9d5cd1583b4d78e5f0242ac120005",
    "11e9d5cd1589c04b8e5f0242ac120005"
  ]
}</pre>
Response to getting objects in bulk
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:41 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 576e3613
Status: 200
Vary: Origin

5416
{
  "totalRows": 6,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 6,
  "pageRows": 0,
  "objects": [
    {
      "id": "11e9d5cd156af5c28e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:41.5852Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:41.5852Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "a87e512ecdd12eab4517a1078c1c0ae2",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1568341241",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9d5cd1571a1b78e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:41.628943Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:41.628943Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "e9f2b78244d70b89e4feb20f883a3b5e",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1568341241",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9d5cd157741f48e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:41.665841Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:41.665841Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "137a5386b9d87433c6c018f94b22eeeb",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1568341241",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9d5cd157d79608e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:41.706569Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:41.706569Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "8964ace0101d8b6658b386fd74a199a0",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1568341241",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9d5cd1583b4d78e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:41.747425Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:41.747425Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "21d009568e0598a173b8ff1228162d2f",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1568341241",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9d5cd1589c04b8e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:41.787018Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:41.787018Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "ad727ca282cf6065446d17ade69a8a62",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
      "typeName": "Folder",
      "name": "Test Folder for Update 1568341241",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=994442692>Client Caching using ETag</h2>
Use the ETag header sent back as If-none-match to get a 304 indicating that the content has not changed
<pre class="request">
GET /services/object-drive/1.0/objects/11e9d5cd16b7b17b8e5f0242ac120005/stream HTTP/1.1
Host: proxier:8080
If-None-Match: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"

</pre>

				We get back the code rather than wastefully sending back the whole file when it has not changed.  
				304 means Not-Modified.  
				Modern web browsers do this internally to avoid re-fetching unchanged content, 
				especially with images and javascript.
				When we get an object, we get an ETag back regardless of whether it was a 200 or 304.
				
<pre class="response">
HTTP/1.1 304 Not Modified
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="be7a5faf55b747a28dbe4c95a2debc28"
Content-Encrypted-At-Rest: TRUE
Date: Fri, 13 Sep 2019 02:20:43 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: d291bab1
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=890140790>Range Request a file</h2>

			Get a byte range out of a file, rather than the whole file.
			This is a critical feature for using media such as video over http.
			This allows for multi-gigabyte video files to be handled very easily by
			both the web server and the browser while using a small amount of memory.
			
<pre class="request">
GET /services/object-drive/1.0/objects/11e9d5cd16c670978e5f0242ac120005/stream HTTP/1.1
Host: proxier:8080
Range: bytes=5-34

</pre>

			The response that comes back is truncated within the requested byte range.
			Note that the ETag applies to the whole file, and not the parts.
			
<pre class="response">
HTTP/1.1 206 Partial Content
Content-Length: 30
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="690d2c82c02944458ebf7dc8041d3002"
Content-Encrypted-At-Rest: TRUE
Content-Range: bytes 5-34/64
Content-Type: text/plain
Date: Fri, 13 Sep 2019 02:20:43 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 600a7507
Vary: Origin

fghijklmnopqrstuvwxyzABCDEFGHI</pre>
<h2 id=1738951136>Zip a Collection of Files by IDs</h2>
Select a set of individual files (not directories) and send their identifiers in the request
<pre class="request">
POST /services/object-drive/1.0/zip HTTP/1.1
Host: proxier:8080

{
"objectIds": [
"11e9d5cd18b6ef1c8e5f0242ac120005",
"11e9d5cd18be90ef8e5f0242ac120005",
"11e9d5cd18c676db8e5f0242ac120005",
"11e9d5cd18ce142b8e5f0242ac120005",
"11e9d5cd18d588468e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18e7af088e5f0242ac120005",
"11e9d5cd18eeff478e5f0242ac120005",
"11e9d5cd18f792888e5f0242ac120005",
"11e9d5cd18ff1fce8e5f0242ac120005",
"11e9d5cd1906d4598e5f0242ac120005",
"11e9d5cd1915884f8e5f0242ac120005",
"11e9d5cd191eefa48e5f0242ac120005",
"11e9d5cd1928abe08e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005",
"11e9d5cd18df029a8e5f0242ac120005"
],
"fileName": "drive.zip",
"disposition": "inline"
}</pre>
We get back a binary zip file as a response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Disposition: inline; filename=drive.zip
Content-Encrypted-At-Rest: TRUE
Content-Type: application/zip
Date: Fri, 13 Sep 2019 02:20:48 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: f6c12bd0
Vary: Origin

a5c
PK    —-O             	 mapdata3.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata0.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata0(1).txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata2.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata4.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata9.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata0(2).txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata1.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata8.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 classification_manifest(1).txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata5.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata6.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 mapdata7.txtUT ÿüz]lat=5,long=6PK‡\u      PK    —-O             	 data.txtUT ÿüz]lat=5,long=6PK‡\u      PK    ˜-O             	 classification_manifest.txtUT  ýz]UNCLASSIFIED//FOUO

(U//FOUO) mapdata3.txt
(U//FOUO) mapdata0.txt
(U//FOUO) mapdata0(1).txt
(U//FOUO) mapdata2.txt
(U//FOUO) mapdata4.txt
(U//FOUO) mapdata9.txt
(U//FOUO) mapdata0(2).txt
(U//FOUO) mapdata1.txt
(U//FOUO) mapdata8.txt
(U//FOUO) classification_manifest(1).txt
(U//FOUO) mapdata5.txt
(U//FOUO) mapdata6.txt
(U//FOUO) mapdata7.txt
(U//FOUO) data.txt

UNCLASSIFIED//FOUO
PKhu5~  ~  PK    —-O‡\u       	         €    mapdata3.txtUT ÿüz]PK    —-O‡\u       	         €O   mapdata0.txtUT ÿüz]PK    —-O‡\u       	         €ž   mapdata0(1).txtUT ÿüz]PK    —-O‡\u       	         €ð   mapdata2.txtUT ÿüz]PK    —-O‡\u       	         €?  mapdata4.txtUT ÿüz]PK    —-O‡\u       	         €Ž  mapdata9.txtUT ÿüz]PK    —-O‡\u       	         €Ý  mapdata0(2).txtUT ÿüz]PK    —-O‡\u       	         €/  mapdata1.txtUT ÿüz]PK    —-O‡\u       	         €~  mapdata8.txtUT ÿüz]PK    —-O‡\u       	         €Í  classification_manifest(1).txtUT ÿüz]PK    —-O‡\u       	         €.  mapdata5.txtUT ÿüz]PK    —-O‡\u       	         €}  mapdata6.txtUT ÿüz]PK    —-O‡\u       	         €Ì  mapdata7.txtUT ÿüz]PK    —-O‡\u       	         €  data.txtUT ÿüz]PK    ˜-Ohu5~  ~   	         €f  classification_manifest.txtUT  ýz]PK        6    
0

<span class="notshown">....</span>
</pre>
<h2 id=3468999796>List Root Objects for a Group</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/groupobjects/cntesttester10oupeopleoudaeouchimeraou_s_governmentcus?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=3497412442>Create Classified File About Grey Aliens</h2>
Generate a file with high classification
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=741b0feac853114bb5a0793b44c772e9123384b1dd57edb54db31cff772a

--741b0feac853114bb5a0793b44c772e9123384b1dd57edb54db31cff772a
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "2804bab4bfdf462b8473aa6858f91d35",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--741b0feac853114bb5a0793b44c772e9123384b1dd57edb54db31cff772a
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

Area 51 Gray Alien Xenu says: It's time!
--741b0feac853114bb5a0793b44c772e9123384b1dd57edb54db31cff772a--
</pre>
The response shows the created file with populated metadata. Take note of classification and changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:48 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 2ff193b2
Vary: Origin

ca5
{
  "id": "11e9d5cd199d0a518e5f0242ac120005",
  "createdDate": "2019-09-13T02:20:48.624322Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:20:48.624322Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "4ed04df2f950992b1550c4e12941b476",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
  "typeName": "File",
  "name": "2804bab4bfdf462b8473aa6858f91d35",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1467011862>Declassify File About Grey Aliens</h2>
Lower the classification request
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd199d0a518e5f0242ac120005/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=d5b5844cad24c9072b246859ae9d93ca659e7c3f82e7ea888e1d05e6818e

--d5b5844cad24c9072b246859ae9d93ca659e7c3f82e7ea888e1d05e6818e
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "id": "11e9d5cd199d0a518e5f0242ac120005",
  "changeToken": "4ed04df2f950992b1550c4e12941b476",
  "typeName": "File",
  "name": "a2d0592f14174c6fbd5098a5cbe727e6",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "recursiveShare": false
}
--d5b5844cad24c9072b246859ae9d93ca659e7c3f82e7ea888e1d05e6818e
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

**** ** **** ***** **** says: It's time!
--d5b5844cad24c9072b246859ae9d93ca659e7c3f82e7ea888e1d05e6818e--
</pre>
The response shows the updated file at a different classfication. Changecount and other internal core metadata have changed
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:48 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: f35d92ef
Vary: Origin

c6d
{
  "id": "11e9d5cd199d0a518e5f0242ac120005",
  "createdDate": "2019-09-13T02:20:48.624322Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:20:48.73273Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "d233d819a7e6b9fcdedc1fc26982bef5",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
  "typeName": "File",
  "name": "a2d0592f14174c6fbd5098a5cbe727e6",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1105457739>Show Revisions on Declassified File About Grey Aliens Who Has Clearance</h2>
Ask for revisions as a user who can see all the versions
<pre class="request">
GET /services/object-drive/1.0/revisions/11e9d5cd199d0a518e5f0242ac120005 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
All versions returned, note the changecounts
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:48 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: de77151a
Vary: Origin

1d7d
{
  "totalRows": 2,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 2,
  "objects": [
    {
      "id": "11e9d5cd199d0a518e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:48.624322Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:48.73273Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "d233d819a7e6b9fcdedc1fc26982bef5",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
      "typeName": "File",
      "name": "a2d0592f14174c6fbd5098a5cbe727e6",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e9d5cd199d0a518e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:48.624322Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:48.624322Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "4ed04df2f950992b1550c4e12941b476",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
      "typeName": "File",
      "name": "2804bab4bfdf462b8473aa6858f91d35",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "TOP SECRET//SI/TK",
        "classif": "TS",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          ""
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "ts"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [
          "si",
          "tk"
        ],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "TS//SI/TK",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [
          "si",
          "tk"
        ],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=2339528389>Show Revisions on Declassified File About Grey Aliens</h2>
Ask for revisions as a user who can only see the unclassified version
<pre class="request">
GET /services/object-drive/1.0/revisions/11e9d5cd199d0a518e5f0242ac120005 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
Only the latest version is returned, note the changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:20:48 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: b5e190b0
Vary: Origin

ed2
{
  "totalRows": 1,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 1,
  "objects": [
    {
      "id": "11e9d5cd199d0a518e5f0242ac120005",
      "createdDate": "2019-09-13T02:20:48.624322Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:20:48.73273Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "d233d819a7e6b9fcdedc1fc26982bef5",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
      "typeName": "File",
      "name": "a2d0592f14174c6fbd5098a5cbe727e6",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": false,
        "allowRead": true,
        "allowUpdate": false,
        "allowDelete": false,
        "allowShare": false
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=3833738823>List Root Objects for User</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/objects?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=1634256523>Move Object</h2>
Request that an object be moved to a new location
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd40aa2d048e5f0242ac120005/move/11e9d5cd40a33c6d8e5f0242ac120005 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"bf837840480ff7296d393a5f99ebbd28"}</pre>
The object in its new location
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:21:54 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 2246b01a
Vary: Origin

cc4
{
  "id": "11e9d5cd40aa2d048e5f0242ac120005",
  "createdDate": "2019-09-13T02:21:54.141498Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:21:54.187945Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "42e358bc6595a2989615a794eceda599",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
  "typeName": "Folder",
  "name": "Test Folder 2 1568341314",
  "description": "",
  "parentId": "11e9d5cd40a33c6d8e5f0242ac120005",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "breadcrumbs": [
    {
      "id": "11e9d5cd40a33c6d8e5f0242ac120005",
      "parentId": "",
      "name": "Test Folder 1 1568341314"
    }
  ],
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3233016391>Undelete/Restore a file from trash</h2>
We can use the id of a file to rescue it from the trash.
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=f5b723c3ad3bbcfa66b86839dcc13741f6c54919d86424647b834b3594ba

--f5b723c3ad3bbcfa66b86839dcc13741f6c54919d86424647b834b3594ba
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "c0ff403bff1c4d0d8a72190cdce4523b",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--f5b723c3ad3bbcfa66b86839dcc13741f6c54919d86424647b834b3594ba
Content-Disposition: form-data; name="filestream"; filename="testfilename.txt"
Content-Type: application/octet-stream

Deletes are hard. Undeletes are harder!
--f5b723c3ad3bbcfa66b86839dcc13741f6c54919d86424647b834b3594ba--
</pre>
This is the restored object.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:22:26 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: d4f5f118
Vary: Origin

c6e
{
  "id": "11e9d5cd53c429318e5f0242ac120005",
  "createdDate": "2019-09-13T02:22:26.188543Z",
  "createdBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:22:26.188543Z",
  "modifiedBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "d56ed43f4968b1ea7645720d086600c9",
  "ownedBy": "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
  "typeName": "File",
  "name": "c0ff403bff1c4d0d8a72190cdce4523b",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 39,
  "contentHash": "7f58e1795418675dff9baa6eb47a27d9e4057b33ab096946b4645224f185aada",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester06oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester06",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2490985143>Modify Object Property</h2>

				Update a property.  It is required to pass in changeToken as proof that we have seen the latest version.
				
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd56693f0c8e5f0242ac120005/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=00387f7e758a267cb702a38640964e53d4e264fbdedc65f40e8f8b9a4879

--00387f7e758a267cb702a38640964e53d4e264fbdedc65f40e8f8b9a4879
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json


{
	  "id": "11e9d5cd56693f0c8e5f0242ac120005",
      "description": "describeit",
	  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[\"FOUO\"],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U//FOUO\",\"banner\":\"UNCLASSIFIED//FOUO\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
	  "changeToken" : "8cf275e117d95a71dffbf0bc858c45c8",
	  "properties" : [
          {"name":"dogname", "value":"arf", "classificationPM":"U"}
      ]
}

--00387f7e758a267cb702a38640964e53d4e264fbdedc65f40e8f8b9a4879
Content-Disposition: form-data; name="filestream"; filename="initialTestData3.txt"
Content-Type: application/octet-stream

Initial test data 3 asdf
--00387f7e758a267cb702a38640964e53d4e264fbdedc65f40e8f8b9a4879--
</pre>

				We get back an object with updated properties,
				with changeToken and changeCount being important changed values.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:22:30 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: d43d70ae
Vary: Origin

e87
{
  "id": "11e9d5cd56693f0c8e5f0242ac120005",
  "createdDate": "2019-09-13T02:22:30.625882Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:22:30.731817Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "1cde812b05d57c65527c6d135511c820",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
  "typeName": "File",
  "name": "2ec6778084ae45278fa809c6770695d1",
  "description": "describeit",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 24,
  "contentHash": "16b4c8d8d6fe37569ccb3c4c10db70dbd1e553fb10972a04d054dec3adcb2446",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e9d5cd5679933b8e5f0242ac120005",
      "createdDate": "2019-09-13T02:22:30.733028Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:22:30.733028Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "8431b63f04caef7052f33f3a8cd13614",
      "name": "dogname",
      "value": "arf",
      "classificationPM": "U"
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1017150633>Update the stream of an existing object</h2>
<p>
				A POST request into the server requires a json part followed by a multi-part body.
				The json part content-type must be application/json, and the body part is specified
				by the caller, unless the caller is ok with the server making a guess based on
				the file extension specified in the name part of the json part.
				The identifier in the URI should have come back from a prior create request.
				It is critical to use a multipart/form-data mime type with a boundary, and to
				send the json first and call it ObjectMetadata.  The next part must be the bytes for
				the file.  This part must come second because it could be very large.
				</p>
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=de0066b2a656773fb484d5e7c4b3ab2a48c34b603d542af10a29c2b8b172

--de0066b2a656773fb484d5e7c4b3ab2a48c34b603d542af10a29c2b8b172
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "30494a78cb864f10bcb001eb2ab3ff81",
  "description": "",
  "acm": {
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_clearance": [
      "u"
    ],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--de0066b2a656773fb484d5e7c4b3ab2a48c34b603d542af10a29c2b8b172
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

ee299eead658478991e3a6a181c72ac7
--de0066b2a656773fb484d5e7c4b3ab2a48c34b603d542af10a29c2b8b172--
</pre>
We get back an object with updated json changeToken and version
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:22:30 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 32828fd6
Vary: Origin

b91
{
  "id": "11e9d5cd56839bed8e5f0242ac120005",
  "createdDate": "2019-09-13T02:22:30.798667Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:22:30.798667Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "dae67ae64ee8dce667c4340e65efc751",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc48e173d8e5f0242ac120005",
  "typeName": "File",
  "name": "30494a78cb864f10bcb001eb2ab3ff81",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "macs": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 32,
  "contentHash": "b6642c231a89d41a84c938ee857d33ed7d5f5aa5246dbfdc240f10f6325eab6c",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3766955599>Modify Object Properties</h2>
Ask for updated properties
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd56c743898e5f0242ac120005/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json


{
    "id": "11e9d5cd56c743898e5f0242ac120005",
    "acm": {
        "f_missions": [],
        "fgi_open": [],
        "rel_to": [],
        "dissem_countries": [
            "USA"
        ],
        "sci_ctrls": [],
        "f_clearance": [
            "u"
        ],
        "owner_prod": [],
        "f_regions": [],
        "f_share": [
            "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
            "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
        ],
        "portion": "U",
        "disp_only": "",
        "f_sci_ctrls": [],
        "disponly_to": [
            ""
        ],
        "banner": "UNCLASSIFIED",
        "non_ic": [],
        "f_accms": [],
        "f_sar_id": [],
        "f_oc_org": [],
        "classif": "U",
        "atom_energy": [],
        "dissem_ctrls": [],
        "sar_id": [],
        "version": "2.1.0",
        "fgi_protect": [],
        "f_macs": [],
        "f_atom_energy": [],
        "share": {
            "users": [
                "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ],
            "projects": {}
        }
    },
    "permission": {
        "create": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "read": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "update": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "delete": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "share": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        }
    },
    "changeToken": "ce261d94131d0bf52d7e9884555a1fd9"
}
</pre>
Get response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:22:31 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 1de75059
Vary: Origin

e8f
{
  "id": "11e9d5cd56c743898e5f0242ac120005",
  "createdDate": "2019-09-13T02:22:31.242063Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:22:31.298893Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "091cdc923221727d638c900956ee0fef",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
  "typeName": "Folder",
  "name": "Test Folder for Update 1568341351",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
    ],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "share": {
      "projects": null,
      "users": [
        "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus",
      "userDistinguishedName": "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
      "displayName": "ling chen",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=959183600>Update Object With New Property</h2>
While updating the metadata for an object, include a dynamic property to be set
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd580923468e5f0242ac120005/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e9d5cd580923468e5f0242ac120005","createdDate":"2019-09-13T02:22:33.351481Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-09-13T02:22:33.351481Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":0,"changeToken":"7b426112caad7c5d412b82adabb72a38","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e9d5ccc5a198f38e5f0242ac120005","typeName":"Folder","name":"TestUpdateObjectProperty 1568341353","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"","createdDate":"0001-01-01T00:00:00Z","createdBy":"","modifiedDate":"0001-01-01T00:00:00Z","modifiedBy":"","changeCount":0,"changeToken":"","name":"custom-property","value":"property value 1","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object includes property
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:22:33 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: 7aa80b74
Vary: Origin

e2d
{
  "id": "11e9d5cd580923468e5f0242ac120005",
  "createdDate": "2019-09-13T02:22:33.351481Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:22:33.405475Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "821f2b43157571a8b15566d56b278cf1",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1568341353",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e9d5cd58118ca58e5f0242ac120005",
      "createdDate": "2019-09-13T02:22:33.406722Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:22:33.406722Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "ac35e9493166dbc368e105971f87c841",
      "name": "custom-property",
      "value": "property value 1",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3834796447>Update Object Change Property Value</h2>
While updating the metadata for an object, change value of already existing dynamic property
<pre class="request">
POST /services/object-drive/1.0/objects/11e9d5cd580923468e5f0242ac120005/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e9d5cd580923468e5f0242ac120005","createdDate":"2019-09-13T02:22:33.351481Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-09-13T02:22:33.405475Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":1,"changeToken":"821f2b43157571a8b15566d56b278cf1","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e9d5ccc5a198f38e5f0242ac120005","typeName":"Folder","name":"TestUpdateObjectProperty 1568341353","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"11e9d5cd58118ca58e5f0242ac120005","createdDate":"2019-09-13T02:22:33.406722Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2019-09-13T02:22:33.406722Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","changeCount":0,"changeToken":"ac35e9493166dbc368e105971f87c841","name":"custom-property","value":"new property value","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object shows property with new value
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Encrypted-At-Rest: TRUE
Content-Type: application/json
Date: Fri, 13 Sep 2019 02:22:33 GMT
Odrive-Server: 1.0.23b4 build SNAPSHOT (c1fe8afe)
Server: nginx/1.15.8
Session-Id: cd05562f
Vary: Origin

e2f
{
  "id": "11e9d5cd580923468e5f0242ac120005",
  "createdDate": "2019-09-13T02:22:33.351481Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2019-09-13T02:22:33.469318Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 2,
  "changeToken": "b2dde695b8454a5ecceb7a199ae05d25",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e9d5ccc5a198f38e5f0242ac120005",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1568341353",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e9d5cd581b8f328e5f0242ac120005",
      "createdDate": "2019-09-13T02:22:33.472341Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2019-09-13T02:22:33.472341Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "8cdf99dba29970c023782e16c8b12f1f",
      "name": "custom-property",
      "value": "new property value",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/-everyone"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
</body></html>
