<html>
<head><title>APISample</title>
<style>

    body {
        font-family: "Arial", Times, serif;
    }
    pre.request {
        background-color: black;
        color: rgb(0,255,0);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
    pre.response {
        background-color: black;
        color: rgb(64,255,64);
        padding: 20px 20px 20px 20px;
        border-radius: 10px;
    }
	span.notshown {
		color: red;
	}

</style>
</head>
<body>
<h1>APISample</h1>

			This is a sampling of successful tests that exhibit correct cases for using the API,
			at the level of http traffic.  
		<h2>Table Of Contents</h2><ul><li><a href="#483716164">Change Owner for Object</a></li><li><a href="#2000488170">CORS Pre-flight check</a></li><li><a href="#2623193993">Create Object owned by group</a></li><li><a href="#2374969519">Share to new user that may use odrive in the future</a></li><li><a href="#2116130772">Create Object shared to new user on create with resource string format</a></li><li><a href="#981325595">Create Object having stream with explicit permissions set using new permission format</a></li><li><a href="#2569267939">Delete a folder</a></li><li><a href="#1391618934">Bulk Move Objects to a new Parent</a></li><li><a href="#1001142759">Empty (Expunge) Trash</a></li><li><a href="#1046142755">Bulk Retrieve Object Properties</a></li><li><a href="#2254291071">Client Caching with Etags</a></li><li><a href="#890140790">Range Request a file</a></li><li><a href="#1738951136">Zip a Collection of Files by IDs</a></li><li><a href="#3468999796">List Root Objects for a Group</a></li><li><a href="#3497412442">Create Classified File About Grey Aliens</a></li><li><a href="#1467011862">Declassify File About Grey Aliens</a></li><li><a href="#1105457739">Show Revisions on Declassified File About Grey Aliens Who Has Clearance</a></li><li><a href="#2339528389">Show Revisions on Declassified File About Grey Aliens</a></li><li><a href="#3833738823">List Root Objects for User</a></li><li><a href="#1634256523">Move Object</a></li><li><a href="#3233016391">Undelete/Restore a file from trash</a></li><li><a href="#2490985143">Modify Object Property</a></li><li><a href="#1017150633">Update the stream of an existing object</a></li><li><a href="#3766955599">Modify Object Properties</a></li><li><a href="#959183600">Update Object With New Property</a></li><li><a href="#3834796447">Update Object Change Property Value</a></li></ul><br/><h2 id=483716164>Change Owner for Object</h2>
Transfer object ownership to a different user or group
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec86d18e0faac970242ac120002/owner/group/dctc/DCTC/ODrive_G1/DCTC%20ODrive_G1 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"6bd225d1c74f289308d8834b2f1f365d"}</pre>
Ownership changed to designated resource, and moved to root
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:55:04 GMT
Server: nginx/1.13.9
Sessionid: 7ac19027
Vary: Origin

cf2
{
  "id": "11e8dec86d18e0faac970242ac120002",
  "createdDate": "2018-11-02T17:55:03.997069Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T17:55:04.487857Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "9836f3e3fee9302a2f7d6ed61fba085f",
  "ownedBy": "group/dctc/dctc/odrive_g1",
  "typeId": "11e8dec85370bb69ac970242ac120002",
  "typeName": "Folder",
  "name": "Test ChangeOwner to Group",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive_g1"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive_g1"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive_g1",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive_g1",
      "displayName": "dctc odrive_g1",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive_g1"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "group/dctc/dctc/odrive_g1"
      ]
    },
    "share": {
      "allow": [
        "group/dctc/dctc/odrive_g1",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2000488170>CORS Pre-flight check</h2>
Do the request, and specify the headers to be reflected back if ok
<pre class="request">
OPTIONS /services/object-drive/1.0/objects/0123456789abcdef0123456789abcdef HTTP/1.1
Host: proxier:8080
Access-Control-Request-Headers: content-type, x-requested-with
Access-Control-Request-Method: POST
Origin: https://proxier:8080

</pre>
See the headers with values reflected back
<pre class="response">
HTTP/1.1 204 No Content
Access-Control-Allow-Credentials: true
Access-Control-Allow-Headers: content-type, x-requested-with
Access-Control-Allow-Methods: GET, PUT, DELETE, POST, HEAD, OPTIONS
Access-Control-Allow-Origin: https://proxier:8080
Access-Control-Max-Age: 600
Connection: keep-alive
Content-Type: text/plain; charset=utf-8
Date: Fri, 02 Nov 2018 17:55:09 GMT
Server: nginx/1.13.9
Sessionid: 50fa09f8
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=2623193993>Create Object owned by group</h2>
add in ownedBy group
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "permissions": [
    {
      "share": {
        "projects": {
          "dctc": {
            "disp_nm": "DCTC",
            "groups": [
              "ODrive"
            ]
          }
        }
      },
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "ownedBy": "group/dctc/DCTC/ODrive/DCTC ODrive"
}</pre>
object added, but immediately owned by the group
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:55:14 GMT
Server: nginx/1.13.9
Sessionid: b62e3a5f
Vary: Origin

8fe
{
  "id": "11e8dec873185f42ac970242ac120002",
  "createdDate": "2018-11-02T17:55:14.060069Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T17:55:14.060069Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "a1c2c9ee7f88141bd025e28708089047",
  "ownedBy": "group/dctc/dctc/odrive",
  "typeId": "11e8dec86e4f0f64ac970242ac120002",
  "typeName": "",
  "name": "TestCreateWithPermissionsOwnedBy",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": null
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    },
    "share": {
      "allow": [
        "group/dctc/dctc/odrive"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2374969519>Share to new user that may use odrive in the future</h2>
Share file owned by tester 2 from tester 10 to tester 11
<pre class="request">
POST /services/object-drive/1.0/shared/11e8dec8749f845bac970242ac120002 HTTP/1.1
Host: proxier:8080

{
  "share": {
    "users": [
      "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
    ]
  },
  "allowCreate": false,
  "allowRead": true,
  "allowUpdate": false,
  "allowDelete": false,
  "allowShare": false
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:55:16 GMT
Server: nginx/1.13.9
Sessionid: e269ebe0
Vary: Origin

f91
{
  "id": "11e8dec8749f845bac970242ac120002",
  "createdDate": "2018-11-02T17:55:16.623442Z",
  "createdBy": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T17:55:16.898459Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "d80f44df7c5583d2484f124ef44358b2",
  "ownedBy": "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec86e4f0f64ac970242ac120002",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser2",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": false,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester02oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester02",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": true
    },
    {
      "grantee": "cntesttester12oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester12",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester12,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester02,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2116130772>Create Object shared to new user on create with resource string format</h2>
Create file using resource string format
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": "{\"banner\":\"UNCLASSIFIED//FOUO\",\"classif\":\"U\",\"dissem_countries\":[\"USA\"],\"dissem_ctrls\":[\"FOUO\"],\"portion\":\"U//FOUO\",\"share\":{\"users\":[\"cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us\"]},\"version\":\"2.1.0\"}",
  "permission": {
    "create": {},
    "read": {
      "allow": [
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}</pre>
New user has the share
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:55:17 GMT
Server: nginx/1.13.9
Sessionid: b299c45d
Vary: Origin

ced
{
  "id": "11e8dec874f4eea1ac970242ac120002",
  "createdDate": "2018-11-02T17:55:17.183214Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T17:55:17.183214Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "e075928d9d991733ea685370b242943b",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec86e4f0f64ac970242ac120002",
  "typeName": "",
  "name": "TestCreateWithPermissionsNewUser3",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus"
    ],
    "macs": [],
    "portion": "U//FOUO",
    "share": {
      "projects": null,
      "users": [
        "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "cntesttester13oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester13",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=test tester13,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=981325595>Create Object having stream with explicit permissions set using new permission format</h2>

			This object is created with full CRUDS given to the owner, but explicit CRUD given to
			members of the DCTC ODrive group.
			
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=f0471c84715effac55a928f1548507c5c3379f6cc8f9a47eedbd818d4287

--f0471c84715effac55a928f1548507c5c3379f6cc8f9a47eedbd818d4287
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": "{\"classif\":\"U\"}",
  "permission": {
    "create": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/DCTC/ODrive/DCTC ODrive"
      ]
    },
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--f0471c84715effac55a928f1548507c5c3379f6cc8f9a47eedbd818d4287
Content-Disposition: form-data; name="filestream"; filename="initialTestData2.txt"
Content-Type: application/octet-stream

Initial test data 2
--f0471c84715effac55a928f1548507c5c3379f6cc8f9a47eedbd818d4287--
</pre>

			The object should have have permissions put in according to what we explicitly set,
			rather than solely based on the ACM contents.
			
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:57:21 GMT
Server: nginx/1.13.9
Sessionid: 40b1c41a
Vary: Origin

cf4
{
  "id": "11e8dec8beeae488ac970242ac120002",
  "createdDate": "2018-11-02T17:57:21.268893Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T17:57:21.268893Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "75ccae46d483258cffdab269ac5b083e",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec86e4f0f64ac970242ac120002",
  "typeName": "",
  "name": "TestCreateWithNewPermissions",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "dctc_odrive"
    ],
    "macs": [],
    "portion": "U",
    "share": {
      "projects": {
        "dctc": {
          "disp_nm": "dctc",
          "groups": [
            "odrive"
          ]
        }
      },
      "users": [
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 19,
  "contentHash": "364dc4db80afec6a2b8e2394bc66c8435d397c94bd28e74b9331724f4a293850",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    },
    {
      "grantee": "dctc_odrive",
      "projectName": "dctc",
      "projectDisplayName": "dctc",
      "groupName": "odrive",
      "displayName": "dctc odrive",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "group/dctc/dctc/odrive",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2569267939>Delete a folder</h2>
Use a reference to the object to put it into the trash.
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec90c6ec39aac970242ac120002/trash HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"321e685d74fb7b3f570382b226f740eb"}</pre>

				The trashed object is still in the system, 
				so that it may be removed from trash if necessary.
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 247
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:59:31 GMT
Server: nginx/1.13.9
Sessionid: 83d32131
Vary: Origin

{
  "ID": "11e8dec90c6ec39aac970242ac120002",
  "deletedDate": "2018-11-02T17:59:31.352897Z",
  "callerPermission": {
    "allowCreate": false,
    "allowRead": true,
    "allowUpdate": false,
    "allowDelete": true,
    "allowShare": false
  }
}</pre>
<h2 id=1391618934>Bulk Move Objects to a new Parent</h2>
A list of object ids with change token and new parent
<pre class="request">
POST /services/object-drive/1.0/objects/move HTTP/1.1
Host: proxier:8080

[{"id":"11e8dec91a82e4a1ac970242ac120002","changeToken":"c659e111d60a6d09f111b23873f35724","parentId":"11e8dec91a64edecac970242ac120002"},{"id":"11e8dec91a9dd065ac970242ac120002","changeToken":"ed2868b8426f9d16aa18a8e28641cb01","parentId":"11e8dec91a64edecac970242ac120002"},{"id":"11e8dec91ab81db1ac970242ac120002","changeToken":"54f4448b4578e0a16995c439fb384d89","parentId":"11e8dec91a64edecac970242ac120002"},{"id":"11e8dec91ad09f41ac970242ac120002","changeToken":"9315607b999b3d4250b1ccf4b3e75b76","parentId":"11e8dec91a64edecac970242ac120002"},{"id":"11e8dec91aea5df9ac970242ac120002","changeToken":"b6f4d3be96ca2c82eb31dc378fa7416d","parentId":"11e8dec91a64edecac970242ac120002"}]</pre>
Any errors that happened
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 387
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 17:59:56 GMT
Server: nginx/1.13.9
Sessionid: 01316d49
Status: Ãˆ
Vary: Origin

[
  {
    "objectId": "11e8dec91a82e4a1ac970242ac120002",
    "code": 200
  },
  {
    "objectId": "11e8dec91a9dd065ac970242ac120002",
    "code": 200
  },
  {
    "objectId": "11e8dec91ab81db1ac970242ac120002",
    "code": 200
  },
  {
    "objectId": "11e8dec91ad09f41ac970242ac120002",
    "code": 200
  },
  {
    "objectId": "11e8dec91aea5df9ac970242ac120002",
    "code": 200
  }
]</pre>
<h2 id=1001142759>Empty (Expunge) Trash</h2>
Simple clean trash request (expunge deleted objects)
<pre class="request">
DELETE /services/object-drive/1.0/trashed HTTP/1.1
Host: proxier:8080

</pre>
The response may be partial, so we keep doing until trash is gone if we need to
<pre class="response">
HTTP/1.1 200 OK
Content-Length: 26
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:02 GMT
Server: nginx/1.13.9
Sessionid: 4655a504
Status: 200
Vary: Origin

{
  "expunged_count": 10
}</pre>
<h2 id=1046142755>Bulk Retrieve Object Properties</h2>
Get a set of (existing!) objects in bulk
<pre class="request">
POST /services/object-drive/1.0/objects/properties HTTP/1.1
Host: proxier:8080

{
  "objectIds": [
    "11e8dec91f56c8e0ac970242ac120002",
    "11e8dec91f70b963ac970242ac120002",
    "11e8dec91f8ba534ac970242ac120002",
    "11e8dec91fa650f2ac970242ac120002",
    "11e8dec91fc1b7ecac970242ac120002",
    "11e8dec91fdd1a7fac970242ac120002"
  ]
}</pre>
Response to getting objects in bulk
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:04 GMT
Server: nginx/1.13.9
Sessionid: c990b052
Status: 200
Vary: Origin

541a
{
  "totalRows": 6,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 6,
  "pageRows": 0,
  "objects": [
    {
      "id": "11e8dec91f56c8e0ac970242ac120002",
      "createdDate": "2018-11-02T18:00:03.037237Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:03.037237Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "c3ef54825646920b439bd751f6423bcc",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec85370bb69ac970242ac120002",
      "typeName": "Folder",
      "name": "Test Folder for Update 1541181602",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e8dec91f70b963ac970242ac120002",
      "createdDate": "2018-11-02T18:00:03.207245Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:03.207245Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "d1277634ec655cbeeadd0dcc6e91f704",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec85370bb69ac970242ac120002",
      "typeName": "Folder",
      "name": "Test Folder for Update 1541181603",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e8dec91f8ba534ac970242ac120002",
      "createdDate": "2018-11-02T18:00:03.383664Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:03.383664Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "433ab09a071b48299b6c90aeed13db0b",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec85370bb69ac970242ac120002",
      "typeName": "Folder",
      "name": "Test Folder for Update 1541181603",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e8dec91fa650f2ac970242ac120002",
      "createdDate": "2018-11-02T18:00:03.558458Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:03.558458Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "0c4d87c1395bfda5d37d4281871f1f59",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec85370bb69ac970242ac120002",
      "typeName": "Folder",
      "name": "Test Folder for Update 1541181603",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e8dec91fc1b7ecac970242ac120002",
      "createdDate": "2018-11-02T18:00:03.738012Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:03.738012Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "4079ff6ee3e7902fb2b649542f00a890",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec85370bb69ac970242ac120002",
      "typeName": "Folder",
      "name": "Test Folder for Update 1541181603",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e8dec91fdd1a7fac970242ac120002",
      "createdDate": "2018-11-02T18:00:03.917511Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:03.917511Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "89c7ed9cce92a4d9f49185ba11f31fb4",
      "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec85370bb69ac970242ac120002",
      "typeName": "Folder",
      "name": "Test Folder for Update 1541181603",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "",
      "contentSize": 0,
      "contentHash": "",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester10",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
            "group/-everyone"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=2254291071>Client Caching with Etags</h2>
Use the Etag header sent back as If-none-match to get a 304 indicating that the content has not changed
<pre class="request">
GET /services/object-drive/1.0/objects/11e8dec92457d41eac970242ac120002/stream HTTP/1.1
Host: proxier:8080
If-None-Match: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"

</pre>

				We get back the code rather than wastefully sending back the whole file when it has not changed.  
				304 means Not-Modified.  
				Modern web browsers do this internally to avoid re-fetching unchanged content, 
				especially with images and javascript.
				When we get an object, we get an Etag back regardless of whether it was a 200 or 304.
				
<pre class="response">
HTTP/1.1 304 Not Modified
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="9494636ea9a24d3580f6b2f6e35b474f"
Date: Fri, 02 Nov 2018 18:00:11 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Server: nginx/1.13.9
Sessionid: a0e6ff2b
Vary: Origin
X-Content-Type-Options: nosniff

</pre>
<h2 id=890140790>Range Request a file</h2>

			Get a byte range out of a file, rather than the whole file.
			This is a critical feature for using media such as video over http.
			This allows for multi-gigabyte video files to be handled very easily by
			both the web server and the browser while using a small amount of memory.
			
<pre class="request">
GET /services/object-drive/1.0/objects/11e8dec924a0dc8fac970242ac120002/stream HTTP/1.1
Host: proxier:8080
Range: bytes=5-34

</pre>

			The response that comes back is truncated within the requested byte range.
			Note that the Etag applies to the whole file, and not the parts.
			
<pre class="response">
HTTP/1.1 206 Partial Content
Content-Length: 30
Accept-Ranges: bytes
Classification-Banner: UNCLASSIFIED//FOUO
Connection: keep-alive
Content-Disposition: inline; filename="29e45d8e2db0487ab57160d3800b504b"
Content-Range: bytes 5-34/64
Content-Type: text/plain
Date: Fri, 02 Nov 2018 18:00:12 GMT
Etag: "857cce23b6ba40d9a8330d9397981da58f5a8f413444c7a41c4201a1477651ef"
Server: nginx/1.13.9
Sessionid: 80cf4f69
Vary: Origin

fghijklmnopqrstuvwxyzABCDEFGHI</pre>
<h2 id=1738951136>Zip a Collection of Files by IDs</h2>
Select a set of individual files (not directories) and send their identifiers in the request
<pre class="request">
POST /services/object-drive/1.0/zip HTTP/1.1
Host: proxier:8080

{
"objectIds": [
"11e8dec92de52fb3ac970242ac120002",
"11e8dec92e0c1ca1ac970242ac120002",
"11e8dec92e370a8cac970242ac120002",
"11e8dec92e637e4aac970242ac120002",
"11e8dec92e8d0afaac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92ee41a9cac970242ac120002",
"11e8dec92f0db03eac970242ac120002",
"11e8dec92f34a878ac970242ac120002",
"11e8dec92f638c2fac970242ac120002",
"11e8dec92f905145ac970242ac120002",
"11e8dec92fea8f70ac970242ac120002",
"11e8dec930233ffcac970242ac120002",
"11e8dec9305e6277ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002",
"11e8dec92eb94e57ac970242ac120002"
],
"fileName": "drive.zip",
"disposition": "inline"
}</pre>
We get back a binary zip file as a response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Disposition: inline; filename=drive.zip
Content-Type: application/zip
Date: Fri, 02 Nov 2018 18:00:33 GMT
Server: nginx/1.13.9
Sessionid: ec7ab29f
Vary: Origin

a5c
PK    bM             	 mapdata2.txtUT »Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata3.txtUT ¼Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata6.txtUT ½Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata8.txtUT ½Ü[lat=5,long=6PK‡\u      PK    bM             	 data.txtUT ¾Ü[lat=5,long=6PK‡\u      PK    bM             	 classification_manifest(1).txtUT ¿Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata0.txtUT »Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata1.txtUT »Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata4.txtUT ¼Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata5.txtUT ¼Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata7.txtUT ½Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata9.txtUT ½Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata0(1).txtUT ¾Ü[lat=5,long=6PK‡\u      PK    bM             	 mapdata0(2).txtUT ¿Ü[lat=5,long=6PK‡\u      PK    bM             	 classification_manifest.txtUT ÁÜ[UNCLASSIFIED//FOUO

(U//FOUO) mapdata2.txt
(U//FOUO) mapdata3.txt
(U//FOUO) mapdata6.txt
(U//FOUO) mapdata8.txt
(U//FOUO) data.txt
(U//FOUO) classification_manifest(1).txt
(U//FOUO) mapdata0.txt
(U//FOUO) mapdata1.txt
(U//FOUO) mapdata4.txt
(U//FOUO) mapdata5.txt
(U//FOUO) mapdata7.txt
(U//FOUO) mapdata9.txt
(U//FOUO) mapdata0(1).txt
(U//FOUO) mapdata0(2).txt

UNCLASSIFIED//FOUO
PK½I~  ~  PK    bM‡\u       	         €    mapdata2.txtUT »Ü[PK    bM‡\u       	         €O   mapdata3.txtUT ¼Ü[PK    bM‡\u       	         €ž   mapdata6.txtUT ½Ü[PK    bM‡\u       	         €í   mapdata8.txtUT ½Ü[PK    bM‡\u       	         €<  data.txtUT ¾Ü[PK    bM‡\u       	         €‡  classification_manifest(1).txtUT ¿Ü[PK    bM‡\u       	         €è  mapdata0.txtUT »Ü[PK    bM‡\u       	         €7  mapdata1.txtUT »Ü[PK    bM‡\u       	         €†  mapdata4.txtUT ¼Ü[PK    bM‡\u       	         €Õ  mapdata5.txtUT ¼Ü[PK    bM‡\u       	         €$  mapdata7.txtUT ½Ü[PK    bM‡\u       	         €s  mapdata9.txtUT ½Ü[PK    bM‡\u       	         €Â  mapdata0(1).txtUT ¾Ü[PK    bM‡\u       	         €  mapdata0(2).txtUT ¿Ü[PK    bM½I~  ~   	         €f  classification_manifest.txtUT ÁÜ[PK        6    
0

<span class="notshown">....</span>
</pre>
<h2 id=3468999796>List Root Objects for a Group</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/groupobjects/cntesttester10oupeopleoudaeouchimeraou_s_governmentcus?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=3497412442>Create Classified File About Grey Aliens</h2>
Generate a file with high classification
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=7c36d7e188cecee8f6eac26c429d65356db18c0b2114e68d9f5df430ba01

--7c36d7e188cecee8f6eac26c429d65356db18c0b2114e68d9f5df430ba01
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "a54cc5ca5ad3485a832431ca908b2f7f",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--7c36d7e188cecee8f6eac26c429d65356db18c0b2114e68d9f5df430ba01
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

Area 51 Gray Alien Xenu says: It's time!
--7c36d7e188cecee8f6eac26c429d65356db18c0b2114e68d9f5df430ba01--
</pre>
The response shows the created file with populated metadata. Take note of classification and changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:35 GMT
Server: nginx/1.13.9
Sessionid: 1b1275d8
Vary: Origin

ca5
{
  "id": "11e8dec932a90f5eac970242ac120002",
  "createdDate": "2018-11-02T18:00:35.453122Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:00:35.453122Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "b0a5c0ea94e709c5d44f80fc54b5cb0a",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec871413accac970242ac120002",
  "typeName": "File",
  "name": "a54cc5ca5ad3485a832431ca908b2f7f",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "TOP SECRET//SI/TK",
    "classif": "TS",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      ""
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "ts"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [
      "si",
      "tk"
    ],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "TS//SI/TK",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [
      "si",
      "tk"
    ],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1467011862>Declassify File About Grey Aliens</h2>
Lower the classification request
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec932a90f5eac970242ac120002/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=110b43a12cd0deb07d02183302bf793d3584a7d536c90d81a6b98f6ec636

--110b43a12cd0deb07d02183302bf793d3584a7d536c90d81a6b98f6ec636
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "id": "11e8dec932a90f5eac970242ac120002",
  "changeToken": "b0a5c0ea94e709c5d44f80fc54b5cb0a",
  "typeName": "File",
  "name": "59a5dfdcc77548c9994eabc4b2d66425",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": "",
  "recursiveShare": false
}
--110b43a12cd0deb07d02183302bf793d3584a7d536c90d81a6b98f6ec636
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

**** ** **** ***** **** says: It's time!
--110b43a12cd0deb07d02183302bf793d3584a7d536c90d81a6b98f6ec636--
</pre>
The response shows the updated file at a different classfication. Changecount and other internal core metadata have changed
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:35 GMT
Server: nginx/1.13.9
Sessionid: f823d97c
Vary: Origin

c6e
{
  "id": "11e8dec932a90f5eac970242ac120002",
  "createdDate": "2018-11-02T18:00:35.453122Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:00:35.783876Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "006488f4f675cd059e92bdfccd858876",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec871413accac970242ac120002",
  "typeName": "File",
  "name": "59a5dfdcc77548c9994eabc4b2d66425",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 40,
  "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1105457739>Show Revisions on Declassified File About Grey Aliens Who Has Clearance</h2>
Ask for revisions as a user who can see all the versions
<pre class="request">
GET /services/object-drive/1.0/revisions/11e8dec932a90f5eac970242ac120002 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
All versions returned, note the changecounts
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:36 GMT
Server: nginx/1.13.9
Sessionid: 1d4bd984
Vary: Origin

1d7e
{
  "totalRows": 2,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 2,
  "objects": [
    {
      "id": "11e8dec932a90f5eac970242ac120002",
      "createdDate": "2018-11-02T18:00:35.453122Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:35.783876Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "006488f4f675cd059e92bdfccd858876",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec871413accac970242ac120002",
      "typeName": "File",
      "name": "59a5dfdcc77548c9994eabc4b2d66425",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    },
    {
      "id": "11e8dec932a90f5eac970242ac120002",
      "createdDate": "2018-11-02T18:00:35.453122Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:35.453122Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 0,
      "changeToken": "b0a5c0ea94e709c5d44f80fc54b5cb0a",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec871413accac970242ac120002",
      "typeName": "File",
      "name": "a54cc5ca5ad3485a832431ca908b2f7f",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "TOP SECRET//SI/TK",
        "classif": "TS",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          ""
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "ts"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [
          "si",
          "tk"
        ],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "TS//SI/TK",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [
          "si",
          "tk"
        ],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "e6cbba8b8f4d8bdf2c4256634a9eb900a1f352675c06a8fffad8762a1f3f792d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": true,
        "allowRead": true,
        "allowUpdate": true,
        "allowDelete": true,
        "allowShare": true
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=2339528389>Show Revisions on Declassified File About Grey Aliens</h2>
Ask for revisions as a user who can only see the unclassified version
<pre class="request">
GET /services/object-drive/1.0/revisions/11e8dec932a90f5eac970242ac120002 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
Only the latest version is returned, note the changecount
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:36 GMT
Server: nginx/1.13.9
Sessionid: 06925df5
Vary: Origin

ed3
{
  "totalRows": 1,
  "pageCount": 1,
  "pageNumber": 1,
  "pageSize": 20,
  "pageRows": 1,
  "objects": [
    {
      "id": "11e8dec932a90f5eac970242ac120002",
      "createdDate": "2018-11-02T18:00:35.453122Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:00:35.783876Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "deletedDate": "0001-01-01T00:00:00Z",
      "deletedBy": "",
      "changeCount": 1,
      "changeToken": "006488f4f675cd059e92bdfccd858876",
      "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "typeId": "11e8dec871413accac970242ac120002",
      "typeName": "File",
      "name": "59a5dfdcc77548c9994eabc4b2d66425",
      "description": "",
      "acm": {
        "accms": [],
        "atom_energy": [],
        "banner": "UNCLASSIFIED//FOUO",
        "classif": "U",
        "disp_only": "",
        "disponly_to": [
          ""
        ],
        "dissem_countries": [
          "USA"
        ],
        "dissem_ctrls": [
          "FOUO"
        ],
        "f_accms": [],
        "f_atom_energy": [],
        "f_clearance": [
          "u"
        ],
        "f_macs": [],
        "f_missions": [],
        "f_oc_org": [],
        "f_regions": [],
        "f_sar_id": [],
        "f_sci_ctrls": [],
        "f_share": [],
        "fgi_open": [],
        "fgi_protect": [],
        "macs": [],
        "non_ic": [],
        "oc_attribs": [
          {
            "missions": [],
            "orgs": [],
            "regions": []
          }
        ],
        "owner_prod": [],
        "portion": "U//FOUO",
        "rel_to": [],
        "sar_id": [],
        "sci_ctrls": [],
        "version": "2.1.0"
      },
      "contentType": "text/plain",
      "contentSize": 40,
      "contentHash": "265bf81e2bcf6b49fb3b383b1e9aed21263c82238f0e5b93ac9410fb4983c52d",
      "containsUSPersonsData": "Unknown",
      "exemptFromFOIA": "Unknown",
      "callerPermission": {
        "allowCreate": false,
        "allowRead": true,
        "allowUpdate": false,
        "allowDelete": false,
        "allowShare": false
      },
      "permissions": [
        {
          "grantee": "_everyone",
          "groupName": "-everyone",
          "displayName": "-everyone",
          "allowCreate": false,
          "allowRead": true,
          "allowUpdate": false,
          "allowDelete": false,
          "allowShare": false
        },
        {
          "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
          "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
          "displayName": "test tester05",
          "allowCreate": true,
          "allowRead": false,
          "allowUpdate": true,
          "allowDelete": true,
          "allowShare": true
        }
      ],
      "permission": {
        "create": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "read": {
          "allow": [
            "group/-everyone",
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "update": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "delete": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        },
        "share": {
          "allow": [
            "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
          ]
        }
      },
      "isPDFAvailable": false
    }
  ]
}
0

</pre>
<h2 id=3833738823>List Root Objects for User</h2>
Send a response for a paged listing
<pre class="request">
GET /services/object-drive/1.0/objects?PageNumber=1&PageSize=2 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

</pre>
<h2 id=1634256523>Move Object</h2>
Request that an object be moved to a new location
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec93d70eaa1ac970242ac120002/move/11e8dec93d565dc8ac970242ac120002 HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"changeToken":"95c20d653e1d0c4d48786637bdf849b1"}</pre>
The object in its new location
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:00:53 GMT
Server: nginx/1.13.9
Sessionid: 9927cd8a
Vary: Origin

cc4
{
  "id": "11e8dec93d70eaa1ac970242ac120002",
  "createdDate": "2018-11-02T18:00:53.540125Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:00:53.655506Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "5bea003b1b6ba119fe5fe3065f6fd9a1",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec85370bb69ac970242ac120002",
  "typeName": "Folder",
  "name": "Test Folder 2 1541181653",
  "description": "",
  "parentId": "11e8dec93d565dc8ac970242ac120002",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "breadcrumbs": [
    {
      "id": "11e8dec93d565dc8ac970242ac120002",
      "parentId": "",
      "name": "Test Folder 1 1541181653"
    }
  ],
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3233016391>Undelete/Restore a file from trash</h2>
We can use the id of a file to rescue it from the trash.
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=af3f5528315b2aa6fc260ceee81c3ccbffd9926fef5b75dd9e88c8b77a7f

--af3f5528315b2aa6fc260ceee81c3ccbffd9926fef5b75dd9e88c8b77a7f
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "58843e0ccdb0462596e0c51160319bb5",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--af3f5528315b2aa6fc260ceee81c3ccbffd9926fef5b75dd9e88c8b77a7f
Content-Disposition: form-data; name="filestream"; filename="testfilename.txt"
Content-Type: application/octet-stream

Deletes are hard. Undeletes are harder!
--af3f5528315b2aa6fc260ceee81c3ccbffd9926fef5b75dd9e88c8b77a7f--
</pre>
This is the restored object.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:01:02 GMT
Server: nginx/1.13.9
Sessionid: 6582f050
Vary: Origin

c6e
{
  "id": "11e8dec942829087ac970242ac120002",
  "createdDate": "2018-11-02T18:01:02.044383Z",
  "createdBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:01:02.044383Z",
  "modifiedBy": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "cd21bf160a6e128a345da3aeea2ea24d",
  "ownedBy": "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec871413accac970242ac120002",
  "typeName": "File",
  "name": "58843e0ccdb0462596e0c51160319bb5",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 39,
  "contentHash": "7f58e1795418675dff9baa6eb47a27d9e4057b33ab096946b4645224f185aada",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester06oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester06",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester06,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=2490985143>Modify Object Property</h2>

				Update a property.  It is required to pass in changeToken as proof that we have seen the latest version.
				
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec94c44344eac970242ac120002/stream HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=fc41e3e671802234bda1ea636b369f4abadee78fb0db21f05a1cedbf2b9e

--fc41e3e671802234bda1ea636b369f4abadee78fb0db21f05a1cedbf2b9e
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json


{
	  "id": "11e8dec94c44344eac970242ac120002",
      "description": "describeit",
	  "acm": "{\"version\":\"2.1.0\",\"classif\":\"U\",\"owner_prod\":[],\"atom_energy\":[],\"sar_id\":[],\"sci_ctrls\":[],\"disponly_to\":[\"\"],\"dissem_ctrls\":[\"FOUO\"],\"non_ic\":[],\"rel_to\":[],\"fgi_open\":[],\"fgi_protect\":[],\"portion\":\"U//FOUO\",\"banner\":\"UNCLASSIFIED//FOUO\",\"dissem_countries\":[\"USA\"],\"accms\":[],\"macs\":[],\"oc_attribs\":[{\"orgs\":[],\"missions\":[],\"regions\":[]}],\"f_clearance\":[\"u\"],\"f_sci_ctrls\":[],\"f_accms\":[],\"f_oc_org\":[],\"f_regions\":[],\"f_missions\":[],\"f_share\":[],\"f_atom_energy\":[],\"f_macs\":[],\"disp_only\":\"\"}",
	  "changeToken" : "f777659a86601c450be2fcbc512d86b8",
	  "properties" : [
          {"name":"dogname", "value":"arf", "classificationPM":"U"}
      ]
}

--fc41e3e671802234bda1ea636b369f4abadee78fb0db21f05a1cedbf2b9e
Content-Disposition: form-data; name="filestream"; filename="initialTestData3.txt"
Content-Type: application/octet-stream

Initial test data 3 asdf
--fc41e3e671802234bda1ea636b369f4abadee78fb0db21f05a1cedbf2b9e--
</pre>

				We get back an object with updated properties,
				with changeToken and changeCount being important changed values.
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:01:18 GMT
Server: nginx/1.13.9
Sessionid: cda8cc3a
Vary: Origin

e85
{
  "id": "11e8dec94c44344eac970242ac120002",
  "createdDate": "2018-11-02T18:01:18.412958Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:01:18.739851Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "c6e424abd60e690b57f020d8173d211b",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec871413accac970242ac120002",
  "typeName": "File",
  "name": "32e66d60a8c24ba096523ff3ae60e90c",
  "description": "describeit",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U//FOUO",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 24,
  "contentHash": "16b4c8d8d6fe37569ccb3c4c10db70dbd1e553fb10972a04d054dec3adcb2446",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e8dec94c764577ac970242ac120002",
      "createdDate": "2018-11-02T18:01:18.74117Z",
      "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:01:18.74117Z",
      "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "bd363e8dcb5f9e7c0e6ea06430336aa9",
      "name": "dogname",
      "value": "arf",
      "classificationPM": "U"
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=1017150633>Update the stream of an existing object</h2>
<p>
				A POST request into the server requires a json part followed by a multi-part body.
				The json part content-type must be application/json, and the body part is specified
				by the caller, unless the caller is ok with the server making a guess based on
				the file extension specified in the name part of the json part.
				The identifier in the URI should have come back from a prior create request.
				It is critical to use a multipart/form-data mime type with a boundary, and to
				send the json first and call it ObjectMetadata.  The next part must be the bytes for
				the file.  This part must come second because it could be very large.
				</p>
<pre class="request">
POST /services/object-drive/1.0/objects HTTP/1.1
Host: proxier:8080
Content-Type: multipart/form-data; boundary=856026aae9a0cef5e06b382b878d25f482f0c3021c06fc3d84a6ac0229c8

--856026aae9a0cef5e06b382b878d25f482f0c3021c06fc3d84a6ac0229c8
Content-Disposition: form-data; name="ObjectMetadata"
Content-Type: application/json

{
  "typeName": "File",
  "name": "e75b1da7a82b4fb4889ed65484afc297",
  "description": "",
  "acm": {
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_clearance": [
      "u"
    ],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "permission": {
    "create": {},
    "read": {},
    "update": {},
    "delete": {},
    "share": {}
  },
  "containsUSPersonsData": "",
  "exemptFromFOIA": ""
}
--856026aae9a0cef5e06b382b878d25f482f0c3021c06fc3d84a6ac0229c8
Content-Disposition: form-data; name="filestream"; filename="initialTestData1.txt"
Content-Type: application/octet-stream

767146f44da14d14a0d5cb36e04d0b1d
--856026aae9a0cef5e06b382b878d25f482f0c3021c06fc3d84a6ac0229c8--
</pre>
We get back an object with updated json changeToken and version
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:01:19 GMT
Server: nginx/1.13.9
Sessionid: 3316fc4b
Vary: Origin

b91
{
  "id": "11e8dec94ca0cd19ac970242ac120002",
  "createdDate": "2018-11-02T18:01:19.019769Z",
  "createdBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:01:19.019769Z",
  "modifiedBy": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 0,
  "changeToken": "ad84c7ade932e84793203c485fe0a64d",
  "ownedBy": "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec871413accac970242ac120002",
  "typeName": "File",
  "name": "e75b1da7a82b4fb4889ed65484afc297",
  "description": "",
  "acm": {
    "accms": [],
    "banner": "UNCLASSIFIED//FOUO",
    "classif": "U",
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [
      "FOUO"
    ],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "macs": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "portion": "U//FOUO",
    "version": "2.1.0"
  },
  "contentType": "text/plain",
  "contentSize": 32,
  "contentHash": "3b87b142427cc292cf36380daa66432105748f55453e3aa31f4476a7ec247e66",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester05oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester05",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester05,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3766955599>Modify Object Properties</h2>
Ask for updated properties
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec94dc068bcac970242ac120002/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json


{
    "id": "11e8dec94dc068bcac970242ac120002",
    "acm": {
        "f_missions": [],
        "fgi_open": [],
        "rel_to": [],
        "dissem_countries": [
            "USA"
        ],
        "sci_ctrls": [],
        "f_clearance": [
            "u"
        ],
        "owner_prod": [],
        "f_regions": [],
        "f_share": [
            "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
            "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
        ],
        "portion": "U",
        "disp_only": "",
        "f_sci_ctrls": [],
        "disponly_to": [
            ""
        ],
        "banner": "UNCLASSIFIED",
        "non_ic": [],
        "f_accms": [],
        "f_sar_id": [],
        "f_oc_org": [],
        "classif": "U",
        "atom_energy": [],
        "dissem_ctrls": [],
        "sar_id": [],
        "version": "2.1.0",
        "fgi_protect": [],
        "f_macs": [],
        "f_atom_energy": [],
        "share": {
            "users": [
                "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
                "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ],
            "projects": {}
        }
    },
    "permission": {
        "create": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "read": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "update": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "delete": {
            "allow": [
                "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        },
        "share": {
            "allow": [
                "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
            ]
        }
    },
    "changeToken": "de0e145274ee01bbab3f212d2b6c487a"
}
</pre>
Get response
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:01:21 GMT
Server: nginx/1.13.9
Sessionid: f8f7955b
Vary: Origin

e8e
{
  "id": "11e8dec94dc068bcac970242ac120002",
  "createdDate": "2018-11-02T18:01:20.90465Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:01:21.287934Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "a7419fb2b7a749890f7109aeb75973f4",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec85370bb69ac970242ac120002",
  "typeName": "Folder",
  "name": "Test Folder for Update 1541181680",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [
      "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus"
    ],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "share": {
      "projects": null,
      "users": [
        "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "cnlingchenoupeopleoujitfct_twlousix3systemsou_s_governmentcus",
      "userDistinguishedName": "cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
      "displayName": "ling chen",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": true,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=ling chen,ou=people,ou=jitfct.twl,ou=six 3 systems,o=u.s. government,c=us",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=959183600>Update Object With New Property</h2>
While updating the metadata for an object, include a dynamic property to be set
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec9537bc6b0ac970242ac120002/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e8dec9537bc6b0ac970242ac120002","createdDate":"2018-11-02T18:01:30.521205Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2018-11-02T18:01:30.521205Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":0,"changeToken":"66cbe3f9584826fcf4f939e9d7231dfa","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e8dec85370bb69ac970242ac120002","typeName":"Folder","name":"TestUpdateObjectProperty 1541181690","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"","createdDate":"0001-01-01T00:00:00Z","createdBy":"","modifiedDate":"0001-01-01T00:00:00Z","modifiedBy":"","changeCount":0,"changeToken":"","name":"custom-property","value":"property value 1","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object includes property
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:01:30 GMT
Server: nginx/1.13.9
Sessionid: cccf5890
Vary: Origin

e2b
{
  "id": "11e8dec9537bc6b0ac970242ac120002",
  "createdDate": "2018-11-02T18:01:30.521205Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:01:30.798067Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 1,
  "changeToken": "a028f1f4871dadbdbabf025fc345160c",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec85370bb69ac970242ac120002",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1541181690",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e8dec953a62f94ac970242ac120002",
      "createdDate": "2018-11-02T18:01:30.79924Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:01:30.79924Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "528678bc69e97cc548d54e59fb19d90e",
      "name": "custom-property",
      "value": "property value 1",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
<h2 id=3834796447>Update Object Change Property Value</h2>
While updating the metadata for an object, change value of already existing dynamic property
<pre class="request">
POST /services/object-drive/1.0/objects/11e8dec9537bc6b0ac970242ac120002/properties HTTP/1.1
Host: proxier:8080
Content-Type: application/json

{"id":"11e8dec9537bc6b0ac970242ac120002","createdDate":"2018-11-02T18:01:30.521205Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2018-11-02T18:01:30.798067Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","deletedDate":"0001-01-01T00:00:00Z","deletedBy":"","changeCount":1,"changeToken":"a028f1f4871dadbdbabf025fc345160c","ownedBy":"user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","typeId":"11e8dec85370bb69ac970242ac120002","typeName":"Folder","name":"TestUpdateObjectProperty 1541181690","description":"","acm":{"accms":[],"atom_energy":[],"banner":"UNCLASSIFIED","classif":"U","disp_only":"","disponly_to":[""],"dissem_countries":["USA"],"dissem_ctrls":[],"f_accms":[],"f_atom_energy":[],"f_clearance":["u"],"f_macs":[],"f_missions":[],"f_oc_org":[],"f_regions":[],"f_sar_id":[],"f_sci_ctrls":[],"f_share":[],"fgi_open":[],"fgi_protect":[],"macs":[],"non_ic":[],"oc_attribs":[{"missions":[],"orgs":[],"regions":[]}],"owner_prod":[],"portion":"U","rel_to":[],"sar_id":[],"sci_ctrls":[],"version":"2.1.0"},"contentType":"","contentSize":0,"contentHash":"","containsUSPersonsData":"Unknown","exemptFromFOIA":"Unknown","properties":[{"id":"11e8dec953a62f94ac970242ac120002","createdDate":"2018-11-02T18:01:30.79924Z","createdBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","modifiedDate":"2018-11-02T18:01:30.79924Z","modifiedBy":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","changeCount":0,"changeToken":"528678bc69e97cc548d54e59fb19d90e","name":"custom-property","value":"new property value","classificationPM":""}],"callerPermission":{"allowCreate":true,"allowRead":true,"allowUpdate":true,"allowDelete":true,"allowShare":true},"permissions":[{"grantee":"_everyone","groupName":"-everyone","displayName":"-everyone","allowCreate":false,"allowRead":true,"allowUpdate":false,"allowDelete":false,"allowShare":false},{"grantee":"cntesttester10oupeopleoudaeouchimeraou_s_governmentcus","userDistinguishedName":"cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us","displayName":"test tester10","allowCreate":true,"allowRead":false,"allowUpdate":true,"allowDelete":true,"allowShare":true}],"permission":{"create":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"read":{"allow":["group/-everyone","user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"update":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"delete":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]},"share":{"allow":["user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"]}},"isPDFAvailable":false}</pre>
Resulting object shows property with new value
<pre class="response">
HTTP/1.1 200 OK
Transfer-Encoding: chunked
Connection: keep-alive
Content-Type: application/json
Date: Fri, 02 Nov 2018 18:01:31 GMT
Server: nginx/1.13.9
Sessionid: facc14b8
Vary: Origin

e2f
{
  "id": "11e8dec9537bc6b0ac970242ac120002",
  "createdDate": "2018-11-02T18:01:30.521205Z",
  "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "modifiedDate": "2018-11-02T18:01:31.070605Z",
  "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "deletedDate": "0001-01-01T00:00:00Z",
  "deletedBy": "",
  "changeCount": 2,
  "changeToken": "1f204ae0aa8c76ad00e3ccbedef1d83d",
  "ownedBy": "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
  "typeId": "11e8dec85370bb69ac970242ac120002",
  "typeName": "Folder",
  "name": "TestUpdateObjectProperty 1541181690",
  "description": "",
  "acm": {
    "accms": [],
    "atom_energy": [],
    "banner": "UNCLASSIFIED",
    "classif": "U",
    "disp_only": "",
    "disponly_to": [
      ""
    ],
    "dissem_countries": [
      "USA"
    ],
    "dissem_ctrls": [],
    "f_accms": [],
    "f_atom_energy": [],
    "f_clearance": [
      "u"
    ],
    "f_macs": [],
    "f_missions": [],
    "f_oc_org": [],
    "f_regions": [],
    "f_sar_id": [],
    "f_sci_ctrls": [],
    "f_share": [],
    "fgi_open": [],
    "fgi_protect": [],
    "macs": [],
    "non_ic": [],
    "oc_attribs": [
      {
        "missions": [],
        "orgs": [],
        "regions": []
      }
    ],
    "owner_prod": [],
    "portion": "U",
    "rel_to": [],
    "sar_id": [],
    "sci_ctrls": [],
    "version": "2.1.0"
  },
  "contentType": "",
  "contentSize": 0,
  "contentHash": "",
  "containsUSPersonsData": "Unknown",
  "exemptFromFOIA": "Unknown",
  "properties": [
    {
      "id": "11e8dec953cff90aac970242ac120002",
      "createdDate": "2018-11-02T18:01:31.073106Z",
      "createdBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "modifiedDate": "2018-11-02T18:01:31.073106Z",
      "modifiedBy": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "changeCount": 0,
      "changeToken": "19b746360c40e82c8ad97abf10498841",
      "name": "custom-property",
      "value": "new property value",
      "classificationPM": ""
    }
  ],
  "callerPermission": {
    "allowCreate": true,
    "allowRead": true,
    "allowUpdate": true,
    "allowDelete": true,
    "allowShare": true
  },
  "permissions": [
    {
      "grantee": "_everyone",
      "groupName": "-everyone",
      "displayName": "-everyone",
      "allowCreate": false,
      "allowRead": true,
      "allowUpdate": false,
      "allowDelete": false,
      "allowShare": false
    },
    {
      "grantee": "cntesttester10oupeopleoudaeouchimeraou_s_governmentcus",
      "userDistinguishedName": "cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us",
      "displayName": "test tester10",
      "allowCreate": true,
      "allowRead": false,
      "allowUpdate": true,
      "allowDelete": true,
      "allowShare": true
    }
  ],
  "permission": {
    "create": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "read": {
      "allow": [
        "group/-everyone",
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "update": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "delete": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    },
    "share": {
      "allow": [
        "user/cn=test tester10,ou=people,ou=dae,ou=chimera,o=u.s. government,c=us"
      ]
    }
  },
  "isPDFAvailable": false
}
0

</pre>
</body></html>
